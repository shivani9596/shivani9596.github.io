/*!CK:3032500815!*//*1444618955,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["36jEa"]); }

__d('ReactComposerStatusAttachmentContainer.react',['ReactComposerAttachmentActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerLocationAttachmentActions','ReactComposerPhotoUploader','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentActions','ReactComposerStatusAttachment.react','ReactComposerStatusStore','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerStatusUtils','React','URLScraper'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=v.createClass({displayName:'ReactComposerStatusAttachmentContainer',_permissiveMatch:undefined,_uploader:undefined,mixins:[l,o(i,r,t)],statics:{calculateState:function(y,z){var aa=i.isSelectedAttachmentActive(y);return {focused:aa,taggersData:t.getTaggersData(y)};}},getDefaultProps:function(){return {taggersData:{}};},componentWillMount:function(){var y=this.props.config.attachmentsConfig[j.MEDIA];this._uploader=new n(this.context,y.photoLimit,{disableFaceRecognition:y.disableFaceboxTagger});},componentDidMount:function(){var y=this.props.config.attachmentsConfig[j.STATUS];p.enabled(this.context.composerID,y.canScrapeShare);m.enabled(this.context.composerID,y.canAttachLocation);var z=r.getMessageText(this.context.composerID);if(z)u.scrapeLink(this.context.composerID,this.context.targetID,z,this.context.composerType);},render:function(){return (v.createElement(q,babelHelpers._extends({},this.props,this.state,{onFocus:this._onFocus,onMentionsInputChange:this._onMentionsInputChange,onPasteFiles:this._onPasteFiles,onPasteRawText:this._onPasteRawText,postButtonModule:this.props.postButtonModule})));},_onFocus:function(){h.selectAttachment(this.context.composerID,j.STATUS,{fromFocus:true});s.selectTagger(this.context.composerID,null);},_onMentionsInputChange:function(y){var z=y.getCurrentContent().getPlainText();if(!w.trigger(z))u.scrapeLink(this.context.composerID,this.context.targetID,z,this.context.composerType);},_onPasteFiles:function(y){h.selectAttachment(this.context.composerID,j.MEDIA);u.uploadPastedFile(this.context.composerID,y[0],this._uploader);},_onPasteRawText:function(y){u.scrapeLink(this.context.composerID,this.context.targetID,y,this.context.composerType);}});f.exports=x;},null);