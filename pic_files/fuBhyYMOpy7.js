/*!CK:1820274512!*//*1443410345,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["T\/4E\/"]); }

__d('ReactComposerAttachmentPreviewContainer.react',['ReactComposerLocationAttachmentActions','ReactComposerLocationAttachmentStore','ReactComposerMinutiaeAttachmentActions','ReactComposerMinutiaeAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerAttachmentPreview.react','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','Arbiter','DOM','Event','ReactComponentWithPureRenderMixin','React','ReactDOM','csx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=t.PropTypes,x=t.createClass({displayName:'ReactComposerAttachmentPreviewContainer',_buttonEvent:undefined,mixins:[s,l(o,k,i)],propTypes:{markup:w.instanceOf(HTMLElement)},statics:{calculateState:function(y,z){var aa=o.getMarkup(y),ba=k.getMarkup(y),ca=i.getMarkup(y);return {markup:aa||ba||ca};}},componentDidUpdate:function(){if(this.refs.attachment){var y=q.scry(u.findDOMNode(this.refs.attachment),"._9s")[0];if(y)this._buttonEvent=r.listen(y,'click',(function(event){n.setScrapedAttachment(this.context.composerID,null,{});j.setMarkup(this.context.composerID,null);h.setMarkup(this.context.composerID,null);this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null;}).bind(this));p.inform('react_composer_dom_ready/'+this.context.composerID);}},componentWillUnmount:function(){this._buttonEvent&&this._buttonEvent.remove();},render:function(){if(!this.state.markup)return null;return (t.createElement(m,{ref:'attachment',markup:this.state.markup}));}});f.exports=x;},null);