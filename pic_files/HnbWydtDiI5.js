/*!CK:2442462719!*//*1444016629,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["dMF9N"]); }

__d('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react',['ReactComposerContextMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInputContainer.react','DraftEntity','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=m.createClass({displayName:'ComposerStatusAttachmentMentionsInputWithTagExpansionContainer',mixins:[l,h],render:function(){var q=o(this.props.className,"_395");return (m.createElement(j,babelHelpers._extends({},this.props,{className:q,onChange:this._onChange,ref:'mentionsInput'})));},focus:function(){this.refs.mentionsInput.focus();},_onChange:function(q){i.setMentions(this.context.composerID,this._getMentionsFromEditorState(q));this.props.onChange&&this.props.onChange(q);},_getMentionsFromEditorState:function(q){var r=q.getCurrentContent(),s={};r.getBlockMap().forEach(function(t){var u=t.getText();t.findEntityRanges(function(){return true;},function(v,w){var x=t.getEntityAt(v);if(!x)return;var y=k.get(x);if(y.getType()!=='MENTION'||y.getData().type!=='user')return;var z=y.getData().id;s[z]={type:'user',uid:z,text:u.slice(v,w)};});});return s;}});f.exports=p;},null);