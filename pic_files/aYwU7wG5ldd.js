/*!CK:1493087853!*//*1445399556,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ZrwHS"]); }

__d("BasicTypeaheadLoggerJSConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}};},null,{});
__d("PlaceSearchConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SOURCE_INTERN:"intern",SOURCE_W_COMPOSER:"web_composer",SOURCE_W_COMPOSER_MEDIA:"web_composer_media",SOURCE_ALBUM_CREATION:"album_creation",SOURCE_ALBUM_EDIT:"album_edit",SOURCE_PHOTO_EDIT:"photo_edit",SOURCE_ALBUM_ADD_PHOTOS:"album_add_photos",SOURCE_PLAN_EDIT:"plan_edit",SOURCE_GROUP_EDIT:"group_edit",SOURCE_DISSIMILARITY:"dissimilarity",SOURCE_TEST:"test",SOURCE_FQL:"fql",SOURCE_EVENTS:"events_create",SOURCE_PAGES:"pages_create",SOURCE_TOUCH:"touch",SOURCE_M:"m",SOURCE_M_PLAN:"m_plan",SOURCE_M_NO_GPS:"m_no_gps",SOURCE_PROFILE_MAP:"profile_map",SOURCE_WEB_DASH:"web_dashboard",SOURCE_MOBILE_DASH:"mobile_dashboard",SOURCE_UNKNOWN:"unknown",SOURCE_PHOTO_EDIT_EXIF:"photo_edit_exif",SOURCE_TIMELINE_LOCATION_EDIT:"timeline_location_edit",SOURCE_NETEGO_TAGGING:"netego_tagging",SOURCE_PPS_NETEGO:"netego_pps",SOURCE_PPS_SNOWLIFT:"snowlift_pps",SOURCE_PROXIMITY_GUESSER:"proximity_guesser",SOURCE_SEARCH_RESULTS_PAGE:"detailedsearch",SOURCE_PLACES_EDITOR:"places_editor",SOURCE_MAP_COMPOSER:"map_composer",SOURCE_NEARBY:"nearby",SOURCE_SEARCH_MAP:"searchmap",SOURCE_TIMELINE_COMPOSER:"timeline_composer",SOURCE_M_EDIT_PROFILE:"m_edit_profile",SOURCE_M_EDIT_PAGE_INFO:"m_edit_page_info",SOURCE_PYML_NEARBY:"pyml_nearby",SOURCE_MOBILE_PLACE_COMPOSER:"mobile_place_composer",SOURCE_NEARBY_CHAT_ROOM:"nearby_chat_room",SOURCE_GRAPHQL:"graphql",SOURCE_CURRENT_PLACE:"current_place",SOURCE_AURA_PUSH_NOTIF:"aura_push_notif",SOURCE_SUGGESTIFIER:"suggestifier",SOURCE_PLACE_ADDRESS_LOCATED_IN:"place_address_located_in",SOURCE_IG_MEDIA_TAGGING:"instagram.media_tagging.place_search",PREDICTIONS_APPID:106712229428223};},null,{});
__d("SharerType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MESSAGE_ONLY:"message_only",ALL_MODES:"all_modes",PAGE_ONLY:"page_only",PAGE_VIEWER:"page_viewer"};},null,{});
__d('FBToggle.react',['React','cx','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'FBToggle',propTypes:{open:l.bool,disabled:l.bool,onChange:l.func},getDefaultProps:function(){return {disabled:false,open:false};},getInitialState:function(){return {isOpen:this.props.open};},componentWillReceiveProps:function(n){this.setState({isOpen:n.open!=null?n.open:this.state.isOpen});},_toggle:function(){if(this.props.disabled)return;if(this.props.onChange)this.props.onChange(!this.state.isOpen,this.props.disabled);this.setState({isOpen:!this.state.isOpen});},render:function(){var n=this.props.children,o=n.length==2||n.length==3;!o?j(0):undefined;if(n.length==2)n.splice(0,0,n[0]);var p=this.state.isOpen?n[1]:n[0],q=n[2],r=(this.state.isOpen?"_4ncx":'')+(!this.state.isOpen?' '+"_4ncy":'')+(this.props.disabled?' '+"_4ncz":''),s="_4nc-",t="_4nc_"+(!this.state.isOpen?' '+"hidden_elem":'');return (h.createElement('div',babelHelpers._extends({},this.props,{className:k(this.props.className,r)}),h.createElement('span',{className:s,onClick:this._toggle},' ',p,' '),h.createElement('span',{className:t},' ',q,' ')));}});f.exports=m;},null);
__d('ReactComposerAudienceSelector.react',['DOM','PrivacySelector','ReactComponentWithPureRenderMixin','React','ReactDOM','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'ReactComposerAudienceSelector',mixins:[j],propTypes:{audienceXHP:n.instanceOf(HTMLElement).isRequired,onChange:n.func.isRequired,viewerIsTarget:n.bool.isRequired},componentDidMount:function(){if(this.props.viewerIsTarget)setTimeout((function(){var p=i.get(this.props.audienceXHP);if(p)p.subscribe('changed',this._onChange);}).bind(this),0);if(this.refs&&this.refs.audienceSelector){h.setContent(l.findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);}else this._layerHack();},render:function(){return (k.createElement('div',{ref:'audienceSelector',className:"_5dd8"}));},_onChange:function(p,q){if(this.isMounted())this.props.onChange(q);},_layerHack:function(){setTimeout((function(){if(this.refs&&this.refs.audienceSelector){h.setContent(l.findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);}else this._layerHack();}).bind(this),100);}});f.exports=o;},null);
__d('ReactComposerAudienceSelectorContainer.react',['ReactComposerAudienceActions','ReactComposerAudienceSelector.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','Arbiter','DOM','DataStore','PrivacySelector','ReactComponentWithPureRenderMixin','React','csx','invariant','PrivacyConst'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=c('PrivacyConst').EventExpansion,w=s.PropTypes,x=s.createClass({displayName:'ReactComposerAudienceSelectorContainer',mixins:[r,j(k,l)],propTypes:{audienceXHP:w.instanceOf(HTMLElement).isRequired,viewerIsTarget:w.bool},statics:{beforeCalculateInitialState:function(y,z){if(z.audienceXHP&&z.viewerIsTarget){var aa,ba=z.audienceXHP,ca=q.getAdamaSelectorInstance(ba);if(ca)aa=ca.getPostParam();var da;if(!ca)da=o.scry(ba,'select option[selected="1"]').pop();if(!ca&&!da){var ea=o.scry(ba,'input[name="privacyx"]')[0];if(ea){aa=ea.value;}else aa=ba.getAttribute('data-privacyx');}!!!(aa||da)?u(0):undefined;h.setAudience(y,aa,da?da.value:null);h.setAudienceElement(y,z.audienceXHP);}},calculateState:function(y,z){var aa=k.getMentions(y),ba=l.getTaggerData(y,m.PEOPLE)||[],ca=ba.map(function(ja){return {info:{type:ja.getType(),uid:ja.getUniqueID(),text:ja.getTitle()}};}),da=o.scry(z.audienceXHP,"._43_1"),ea=da.length>0?da[0]:z.audienceXHP.firstChild,fa=p.get(ea,'selector'),ga=l.getTaggerData(y,m.ACTIVITY)||{},ha=ga.eventExpansionType||v.NONE,ia={eventTag:null,withTags:ca,mention:aa};if(fa&&fa.informTagsChanged){fa.informTagsChanged(ia);}else n.inform('Composer/changedtags',ia);if(fa&&fa.informEventExpansionChanged)fa.informEventExpansionChanged(ha);return {};}},render:function(){return (s.createElement(i,babelHelpers._extends({},this.props,{onChange:this._onAudienceChanged})));},_onAudienceChanged:function(y){h.setAudience(this.context.composerID,y.post_param,y.privacy_base);}});f.exports=x;},null);
__d('ReactComposerPhotoActions',['ReactComposerPhotoActionType','ReactComposerDispatcher','ReactComposerPhotoStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPhotoStore');var j={startRecognizing:function(k,l){i.dispatch({composerID:k,photoID:l,type:h.PHOTO_RECOGNITION_STARTED});},finishRecognizingPhoto:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_RECOGNITION_FINISHED,photoID:l});},finishRecognizing:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_RECOGNITION_ALL_FINISHED,photos:l});},addFacebox:function(k,l,m){i.dispatch({composerID:k,type:h.PHOTO_ADD_FACEBOX,photoID:l,facebox:m});},tagFacebox:function(k,l,m,n,o){i.dispatch({composerID:k,type:h.PHOTO_TAG_FACEBOX,photoID:l,faceboxID:m,subjectID:n,value:o});},untagFacebox:function(k,l,m,n){i.dispatch({composerID:k,type:h.PHOTO_UNTAG_FACEBOX,photoID:l,faceboxID:m,subjectID:n});},removePhoto:function(k,l,m){i.dispatch({composerID:k,type:h.PHOTO_REMOVE,photoID:l,uploadID:m});},untagSubjectFromAllPhotos:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS,subjectID:l});},startPhotoEdit:function(k){i.dispatch({composerID:k,type:h.PHOTO_EDIT_STARTED});},finishPhotoEdit:function(k){i.dispatch({composerID:k,type:h.PHOTO_EDIT_FINISHED});},setPhotoBeingTagged:function(k,l){i.dispatch({composerID:k,photoID:l,type:h.PHOTO_SET_BEING_TAGGED});}};f.exports=j;},null);
__d('ReactComposerStatusActions',['ReactComposerStatusActionType','ReactComposerDispatcher','ReactComposerStatusStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerStatusStore');j.prototype.setMentionsSource=function(k,l){'use strict';var m={composerID:k,type:h.SET_MENTIONS_SOURCE,mentionsSource:l};i.dispatch(m);};j.prototype.setTypeaheadReporter=function(k,l){'use strict';var m={composerID:k,type:h.SET_TYPEAHEAD_REPORTER,typeaheadReporter:l};i.dispatch(m);};j.prototype.setEditorState=function(k,l){'use strict';var m={composerID:k,type:h.SET_EDITOR_STATE,editorState:l};i.dispatch(m);};j.prototype.setMentions=function(k,l){'use strict';var m={composerID:k,type:h.SET_MENTIONS,mentions:l};i.dispatch(m);};j.prototype.setHasText=function(k,l){'use strict';i.dispatch({composerID:k,type:h.SET_HAS_TEXT,hasText:l});};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerStatusAttachmentMentionsInput.react',['ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerTaggerType','Arbiter','EditorState','Keys','MentionsInput.react','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler','UserAgent_DEPRECATED','XUITypeaheadView.react','cx','getMentionsInputDecorator','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=q.PropTypes,y=q.createClass({displayName:'ReactComposerStatusAttachmentMentionsInput',_subscriptions:undefined,mixins:[p,i],propTypes:{config:h,mentionsSource:x.object,typeaheadReporter:x.object,onChange:x.func,onFocus:x.func,onPasteFiles:x.func,onPostIntent:x.func},getInitialState:function(){return {editorState:this.props.editorState};},componentWillUnmount:function(){this.props.onBlur&&this.props.onBlur(this.state.editorState);this._subscriptions&&this._subscriptions.release();},componentWillMount:function(){var z=new r();z.addSubscriptions(l.subscribe([j.SELECT_ATTACHMENT,j.FOCUS],(function(aa,ba){if(ba.composerID===this.context.composerID)this.focus();}).bind(this)));this._subscriptions=z;},componentWillReceiveProps:function(z){if(z.editorState===null)this.setState({editorState:m.createEmpty(v())});},render:function(){var z=this.props.config&&this.props.config.taggersConfig[k.PEOPLE],aa=z&&z.typeaheadView?z.typeaheadView:t,ba=z&&z.typeaheadViewProps?z.typeaheadViewProps:{},ca=Object.assign({},{typeaheadView:aa,typeaheadViewProps:ba,selectOnTab:false,spellCheck:true},this.props,{className:w("_1mwp",this.props.className),editorState:this.state.editorState,handleContentReturn:this._handleContentReturn,handlePastedFiles:this._handlePastedFiles,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return (q.createElement(o,babelHelpers._extends({ref:'mentionsInput'},ca)));},focus:function(){this.refs.mentionsInput.focus();},_onAddMention:function(z,aa,ba){var ca=this.props.typeaheadReporter;if(ca){ca.reportSelect(z.getUniqueID(),z.getType(),aa,ba.button>=0);ca.sessionEnd();ca.sessionStart();}},_onShowMentions:function(z,aa){var ba=this.props.typeaheadReporter;if(ba)ba.reportResults(z.map(function(ca){return ca.getUniqueID();}));},_onFocus:function(){var z=this.props.typeaheadReporter;if(z)z.sessionStart();this.props.onFocus&&this.props.onFocus();},_handlePastedFiles:function(z){var aa=/^image\//;z=z.filter(function(ba){return aa.test(ba.type);});if(z.length>0){this.props.onPasteFiles&&this.props.onPasteFiles(z);return true;}return false;},_handleContentReturn:function(event){var z=s.osx()?event.metaKey:event.controlKey;if(event.keyCode===n.RETURN&&z){this.refs.mentionsInput.blur();setTimeout(this.props.onPostIntent,0);return true;}return false;},_onChange:function(z){this.setState({editorState:z});this.props.onChange&&this.props.onChange(z);},_onBlur:function(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.state.editorState);}});f.exports=y;},null);
__d('ReactComposerHandleUnsavedChanges',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerPhotoStore','ReactComposerPhotoUploadStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerVideoUploadStore','PageTransitions','Run','URI','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u={handler:function(v,w){var x=q.getMostRecentURI(),y=s.getNextURI(),z=x.getQueryData().hasOwnProperty('theater')&&w.path===y.path,aa=y.getQueryData().hasOwnProperty('theater');if(aa||z)r.onAfterLoad(function(){return (r.onBeforeUnload(function(){return (u.handler(v,w));}));});if(aa||z||n.hasPostSucceeded(v)||n.isPublishing(v))return;var ba=u.hasUnsavedChanges(v);if(ba&&!(b.Dialog&&b.Dialog.getCurrent()))return t._("You haven't finished your post yet. Do you want to leave without finishing?");},hasUnsavedChanges:function(v){var w=h.getIsAttachmentSelected(v,i.MEDIA),x=m.hasText(v),y=w&&(k.isUploading(v)||j.isRecognizing(v)||j.getPhotos(v).size>0),z=w&&p.getVideo(v),aa=!o.areAllTaggersEmpty(v),ba=l.hasAttachment(v),ca=x||y||z||aa||ba;return !!ca;}};f.exports=u;},null);
__d('ReactComposerScrapedAttachmentActions',['ReactComposerScrapedAttachmentActionType','ReactComposerDispatcher','ReactComposerScrapedAttachmentStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerScrapedAttachmentStore');j.prototype.enabled=function(k,l){'use strict';var m={composerID:k,type:h.ATTACHMENT_SCRAPE_ENABLED,enabled:l};i.dispatch(m);};j.prototype.setScrapedAttachment=function(k,l,m){'use strict';var n={composerID:k,type:h.ATTACHMENT_SCRAPED,markup:l,attachmentConfig:m};i.dispatch(n);};j.prototype.setPermissiveMatch=function(k,l){'use strict';var m={composerID:k,type:h.ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:l};i.dispatch(m);};j.prototype.scrapeAttachment=function(k,l,m,n){'use strict';var o={composerID:k,type:h.ATTACHMENT_SCRAPE_INTENDED,targetID:l,value:m,entryPoint:n};i.dispatch(o);};j.prototype.uploadImagesForCarousel=function(k){'use strict';var l={composerID:k.composerID,type:h.ATTACHMENT_CAROUSEL_UPLOAD,targetID:k.targetID,scrapeUrl:k.scrapeUrl,carouselParams:k.carouselParams,childAttachments:k.childAttachments,changeTime:k.changeTime,scrapedTime:k.scrapedTime,entryPoint:k.entryPoint};i.dispatch(l);};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerStatusUtils',['Bootloader','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','EditorState','URLMatcher','URLScraper','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={scrapeLink:function(s,t,u,v){if(!l.isEnabled(s))return;if(l.getMarkup(s))return;var w=o.permissiveMatch(u);if(w!==l.getPermissiveMatch(s)){k.setPermissiveMatch(s,w);var x=p.match(u)||w;if(x)k.scrapeAttachment(s,t,x,v);}},uploadPastedFile:function(s,t,u){t.uploadID=q();t.filename='';u&&u.enqueueAsyncUploadRequest(s,[t],{});},uploadDroppedFiles:function(s,t,u){i.selectAttachment(s,j.MEDIA);h.loadModules(["ReactComposerMediaUtils"],function(v){v.uploadPhotosOrVideo(s,t,u,true);});},handleMarkdownPreview:function(s,t,u,v){if(!u||!u.markdownPreviewAttachment)return;var w=u.markdownPreviewAttachment.action;if(!v)v=m.getEditorState(s);if(!v)return;var x=v.getCurrentContent().getPlainText();if(x.indexOf('#markdown')>-1){w.showAndUpdatePreview(s,t,v.getCurrentContent());}else w.hidePreview(s);}};f.exports=r;},null);
__d('ReactComposerStatusAttachmentMentionsInputContainer.react',['Arbiter','ReactComposerActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerPrefillConfig','ReactComposerPrefillUtils','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInput.react','ReactComposerStatusStore','ReactComposerStore','EditorState','LitestandStoryInsertionStatus','ReactComponentWithPureRenderMixin','ReactComposerHandleUnsavedChanges','ReactComposerStatusUtils','React','XUIError.react','cx','errorCode','getMentionsInputDecorator'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){if(c.__markCompiled)c.__markCompiled();var fa=aa.PropTypes,ga=aa.createClass({displayName:'ComposerStatusAttachmentMentionsInputContainer',mixins:[x,m,q(j,t,u)],propTypes:{config:l,mentionsEnabled:fa.bool,mentionsSource:fa.object,onChange:fa.func,onFocus:fa.func,onPasteFiles:fa.func,onPasteRawText:fa.func,prefillConfig:o},getDefaultProps:function(){return {mentionsEnabled:true};},getInitialState:function(){return {isFocused:false};},statics:{beforeCalculateInitialState:function(ha,ia){if(ia.mentionsSource)r.setMentionsSource(ha,ia.mentionsSource);if(ia.prefillConfig){var ja=p.createEditorState(ia.prefillConfig.mentionsInput.text,ia.prefillConfig.mentionsInput.selection);r.setEditorState(ha,ja);}},calculateState:function(ha,ia){var ja=t.getEditorState(ha),ka=ia.mentionsEnabled?ea():null,la;if(ja){if(ja.getDecorator()!==ka){la=v.set(ja,{decorator:ka});}else la=ja;}else la=v.createEmpty(ka);r.setEditorState(ha,la);return {editorState:la,isSelectedAttachmentActive:j.isSelectedAttachmentActive(ha),mentionsSource:ia.mentionsEnabled?t.getMentionsSource(ha):null,posting:u.isPosting(ha),serverErrorResponse:u.getServerErrorResponse(ha),typeaheadReporter:t.getTypeaheadReporter(ha)};}},componentWillReceiveProps:function(ha){if(this.props.mentionsSource!==ha.mentionsSource)r.setMentionsSource(this.context.composerID,ha.mentionsSource);if(ha.editorState===null)r.setEditorState(this.context.composerID,v.createEmpty(ea()));},componentDidUpdate:function(ha,ia){if(!ia.serverErrorResponse&&this._shouldShowEmptyStatusError(this.state.serverErrorResponse))this.focus();},componentWillMount:function(){this._storyInsertionBlocker=w.registerBlocker((function(){return y.hasUnsavedChanges(this.context.composerID)||this.state.isFocused;}).bind(this));},componentDidMount:function(){if(this.props.prefillConfig&&this.props.prefillConfig.mentionsInput.focusedOnLoad)this.focus();},componentWillUnmount:function(){this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},render:function(){var ha=this.props.config&&this.props.config.attachmentsConfig[k.STATUS],ia=aa.createElement(s,babelHelpers._extends({},this.props,{className:(this.state.isSelectedAttachmentActive?"_1mwq":'')+(this.props.config&&this.props.config.showExpandedComposer?' '+"_4c_p":'')+(ha&&ha.showProfilePic?' '+"_5bu_":'')+(this.state.posting?' '+"_1udp":''),ref:'mentionsInput',readOnly:this.state.posting,editorState:this.state.editorState,mentionsSource:this.state.mentionsSource,typeaheadReporter:this.state.typeaheadReporter,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onPostIntent:this._onPostIntent}));if(this._shouldShowEmptyStatusError())ia=aa.createElement(ba,{xuiError:this.state.serverErrorResponse.getErrorDescription(),xuiErrorPosition:'below',xuiErrorAlignh:'left'},ia);return ia;},focus:function(){this.refs.mentionsInput.focus();},_onFocus:function(){h.inform(n.MENTION_INPUT_FOCUS,{composerID:this.context.composerID});this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus();},_onChange:function(ha){var ia=false;if(ha){var ja=ha.getCurrentContent();ia=ja?ja.hasText():false;}if(t.hasText(this.context.composerID)!==ia){r.setEditorState(this.context.composerID,ha);r.setHasText(this.context.composerID,ia);}this._handleMarkdownChange(ha);this.props.onChange&&this.props.onChange(ha);},_handleMarkdownChange:function(ha){var ia=this.props.config?this.props.config.attachmentsConfig[k.STATUS]:null;z.handleMarkdownPreview(this.context.composerID,this.context.targetID,ia,ha);},_onBlur:function(ha){r.setEditorState(this.context.composerID,ha);this.setState({isFocused:false});},_onPostIntent:function(){i.postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});},_shouldShowEmptyStatusError:function(){return !!(this.state.serverErrorResponse&&this.state.serverErrorResponse.getError()==1455004&&!t.hasText(this.context.composerID));}});f.exports=ga;},null);
__d('ReactComposerLocationAttachmentActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_LOCATION_MARKUP:null});},null);
__d("XReactComposerLocationAttachmentController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/location\/attachment\/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}});},null,{});
__d('ReactComposerLocationAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerLocationAttachmentActionType','ReactComposerStoreBase','XReactComposerLocationAttachmentController','AsyncRequest'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;n=babelHelpers.inherits(p,k);o=n&&n.prototype;function p(){'use strict';var q;o.constructor.call(this,function(){return {isEnabled:false,isFetching:false,markup:null,pendingRequest:null};},function(r){switch(r.type){case j.LOCATION_ATTACHMENT_ENABLED:q&&q.$ReactComposerLocationAttachmentStore1(r);break;case j.FETCH_LOCATION_ATTACHMENT:q&&q.$ReactComposerLocationAttachmentStore2(r);break;case j.SET_LOCATION_MARKUP:q&&q.$ReactComposerLocationAttachmentStore3(r);break;case h.SELECT_ATTACHMENT:q&&q.$ReactComposerLocationAttachmentStore4(r);break;}});q=this;}p.prototype.isEnabled=function(q){'use strict';return this.getComposerData(q).isEnabled;};p.prototype.getMarkup=function(q){'use strict';return this.getComposerData(q).markup;};p.prototype.isFetching=function(q){'use strict';return this.getComposerData(q).isFetching;};p.prototype.$ReactComposerLocationAttachmentStore1=function(q){'use strict';var r=this.validateAction(q,['composerID','enabled']),s=r[0],t=r[1],u=this.getComposerData(s);u.isEnabled=t;};p.prototype.$ReactComposerLocationAttachmentStore2=function(q){'use strict';var r=this.validateAction(q,['composerID','locationID','targetID']),s=r[0],t=r[1],u=r[2];if(!this.isEnabled(s))return;var v=this.getComposerData(s);v.isFetching=true;var w=l.getURIBuilder().setString('composer_id',s).setString('location_id',t).setString('target_id',u).getURI();v.pendingRequest=new m(w).setFinallyHandler((function(){v.isFetching=false;v.pendingRequest=null;this.emitChange(s);}).bind(this));v.pendingRequest.send();this.emitChange(s);};p.prototype.$ReactComposerLocationAttachmentStore3=function(q){'use strict';var r=this.validateAction(q,['composerID','markup']),s=r[0],t=r[1],u=this.getComposerData(s);u.markup=t;this.emitChange(s);};p.prototype.$ReactComposerLocationAttachmentStore4=function(q){'use strict';var r=this.validateAction(q,['composerID','id']),s=r[0],t=r[1];if(t===i.STATUS)return;var u=this.getComposerData(s);u.markup=null;u.isFetching=false;u.pendingRequest&&u.pendingRequest.abandon();this.emitChange(s);};f.exports=new p();},null);
__d('ReactComposerLocationAttachmentActions',['ReactComposerLocationAttachmentActionType','ReactComposerDispatcher','ReactComposerLocationAttachmentStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerLocationAttachmentStore');j.prototype.enabled=function(k,l){'use strict';i.dispatch({composerID:k,type:h.LOCATION_ATTACHMENT_ENABLED,enabled:l});};j.prototype.fetchLocationAttachment=function(k,l,m){'use strict';i.dispatch({composerID:k,type:h.FETCH_LOCATION_ATTACHMENT,locationID:l,targetID:m});};j.prototype.setMarkup=function(k,l){'use strict';i.dispatch({composerID:k,type:h.SET_LOCATION_MARKUP,markup:l});};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerMinutiaeAttachmentActions',['ReactComposerMinutiaeAttachmentActionType','ReactComposerDispatcher','ReactComposerMinutiaeAttachmentStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerMinutiaeAttachmentStore');j.prototype.fetchMinutiaeAttachment=function(k,l,m,n,o){'use strict';var p={composerID:k,type:h.FETCH_ATTACHMENT,actionID:l,objectID:m,targetID:n,isTimeline:o};i.dispatch(p);};j.prototype.setMarkup=function(k,l){'use strict';var m={composerID:k,type:h.SET_MARKUP,markup:l};i.dispatch(m);};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerTaggerButtons.react',['ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.createClass({displayName:'ReactComposerTaggerButtons',mixins:[h],render:function(){return (i.createElement('div',{className:"_47gt"},this.props.children));}});f.exports=k;},null);
__d('ShareDialogTagSummary.react',['Arbiter','AsyncRequest','immutable','Parent','ReactComponentWithPureRenderMixin','React','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=true,s=m.createClass({displayName:'ShareDialogTagSummary',mixins:[l],_ogSubscription:undefined,_socialTextRequest:undefined,propTypes:{ogObjectClick:q.func.isRequired,onTagSummaryClick:q.func.isRequired,peopleToExclude:q.instanceOf(j.Set).isRequired,placeTokenClick:q.func.isRequired,taggerData:q.instanceOf(j.Map).isRequired,withTokenClick:q.func.isRequired},getDefaultProps:function(){return {peopleToExclude:j.Set(),ogObjectClick:o,onTagSummaryClick:o,placeTokenClick:o,withTokenClick:o};},getInitialState:function(){return {socialText:null};},componentWillMount:function(){this._ogSubscription=h.subscribe('composer/ogIconPickerOpened',function(event,t){r=false;});this._sendSocialTextRequest(this.props);},componentWillUnmount:function(){if(this._socialTextRequest)this._socialTextRequest.abort();},componentWillReceiveProps:function(t){if(!this.props.taggerData.equals(t.taggerData))this._sendSocialTextRequest(t);},_handleSocialText:function(t){this.setState({socialText:t.getPayload().rendered});},render:function(){var t=p(this.props.className,"_3qg0");return (m.createElement('div',{className:t,onMouseDown:this._onMouseDown,dangerouslySetInnerHTML:this.state.socialText}));},_onMouseDown:function(t){var u=t.target;if(k.byClass(u,'withToken')){this.props.withTokenClick();}else if(k.byClass(u,'placeToken')){this.props.placeTokenClick();}else if(k.byClass(u,'og_composer_object')){this.props.ogObjectClick();}else if(!(k.byClass(u,'ogPickerIcon')))this.props.onTagSummaryClick();},_sendSocialTextRequest:function(t){if(this._socialTextRequest)this._socialTextRequest.abort();var u=t.taggerData,v=u.get('people'),w=u.get('place'),x=u.get('action'),y=u.get('actionIconID'),z=u.get('object'),aa=v.filter((function(ea){return !this.props.peopleToExclude.has(ea.getUniqueID());}).bind(this));if(!(aa&&aa.length>0)&&!w&&!(x&&z)){if(this.state.socialText)this.setState({socialText:null});return;}var ba={};if(aa)ba.people=aa.map(function(ea){return ea.getUniqueID();});if(w)ba.place=w.getTitle();if(x&&z){ba.actionID=x.getUniqueID();var ca=z.getUniqueID(),da=z.getTitle();if(!ca||ca===da){ba.objectStr=da;}else ba.objectID=ca;}if(y)ba.actionIconID=y;ba.iconPickerOpened=r!==true;this._socialTextRequest=new i();this._socialTextRequest&&this._socialTextRequest.setURI('/ajax/metacomposer/social_text.php').setData(ba).setHandler(this._handleSocialText).send();}});f.exports=s;},null);
__d('ReactComposerTaggerSummaryContainer.react',['ReactComposerContextMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerPropsAndStoreBasedStateMixin','ShareDialogTagSummary.react','Arbiter','immutable','React','ReactDOM','containsNode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=p.createClass({displayName:'ReactComposerTaggerSummaryContainer',_ogSubscription:undefined,mixins:[h,l(j)],statics:{calculateState:function(t,u){var v=j.getTaggersData(t),w=v[k.PEOPLE],x=v[k.LOCATION],y=v[k.ACTIVITY],z=x?x.place:null;return {people:w,place:z,activity:y};}},componentWillMount:function(){this._ogSubscription=n.subscribe('composer/ogCustomIconSelected',(function(event,t){if(!r(q.findDOMNode(this.refs.taggerSummary),t.triggerElement))return;var u=j.getTaggerData(this.context.composerID,k.ACTIVITY)||{};u.actionIconID=t.icon_id;i.setTaggerData(this.context.composerID,k.ACTIVITY,u);}).bind(this));},componentWillUnmount:function(){if(this._ogSubscription){this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe();this._ogSubscription=null;}},render:function(){return (p.createElement(m,{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:o.Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,ref:'taggerSummary',taggerData:o.Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place}),withTokenClick:this._withTokenClick}));},_withTokenClick:function(){i.selectTagger(this.context.composerID,k.PEOPLE);},_placeTokenClick:function(){i.selectTagger(this.context.composerID,k.LOCATION);},_ogObjectClick:function(){i.selectTagger(this.context.composerID,k.ACTIVITY);},_onTagSummaryClick:function(){i.selectTagger(this.context.composerID,null);}});f.exports=s;},null);
__d('ReactComposerTaggers.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'ReactComposerTaggers',render:function(){return (h.createElement('div',{className:"_5f24"},this.props.children));}});f.exports=j;},null);
__d('ReactComposerTaggerViewMixin',['ReactComposerTaggerViewStyles','React','ReactDOM','ScrollableArea.react','ScrollableArea','TypeaheadViewPropTypes','setImmediate','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=i.PropTypes,q={propTypes:Object.assign({customIcon:p.object,taggerViewStyle:p.shape(h.Shape)},m),getDefaultProps:function(){return {role:'listbox',taggerViewStyle:h.DEFAULT};},render:function(){var r=this.props.entries.length,s="_599r"+(!r?' '+"_599s":''),t=this.props.entries.map(this._renderItem),u=i.createElement('ul',{className:s,id:this.props.ariaOwneeID,role:this.props.role,ref:'list'},t),v=this.props.taggerViewStyle;if(v.useScrollableArea){var w=v.itemHeight*r;if(w>v.maxHeight)u=i.createElement(k,{ref:this._scrollableAreaMount,className:"_53vr",height:v.maxHeight},u);}return u;},_renderItem:function(r){var s=r===this.props.highlightedEntry,t=r.getAuxiliaryData(),u=t.isRegexEntry,v=u?this.getRegexItemImpl():this.getItemImpl(),w=(s?"selected":'')+(u?' '+"_3ooq":'');return (i.createElement(v,{className:w,key:r.getUniqueID(),entry:r,highlighted:s,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight,customIcon:this.props.customIcon}));},_onRenderHighlight:function(r){if(this._scrollableArea)this._scrollableArea.scrollIntoView(r,false);this.props.onRenderHighlight(r);},_scrollableAreaMount:function(r){var s=j.findDOMNode(r);this._scrollableArea=l.getInstance(s);n((function(){this._scrollableArea&&this._scrollableArea.resize();}).bind(this));}};f.exports=q;},null);
__d('ReactComposerActionTaggerItem.react',['React','cx','ImageBlock.react','joinClasses','TypeaheadViewItem'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ReactComposerActionTaggerItem',mixins:[l.Mixin],propTypes:babelHelpers._extends({customIcon:m.object},l.propTypes),render:function(){var o=this.props.entry,p=o.getAuxiliaryData(),q=h.createElement('span',{dangerouslySetInnerHTML:p.icon||this.props.customIcon}),r="_599m"+(' '+"_5mne")+(this.props.highlighted?' '+"_599n":'')+(' '+"_x7w")+(this.props.highlighted?' '+"_2hxc":'');r=k(r,this.props.className);return (h.createElement('li',{'aria-selected':this.props.highlighted,className:r,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},h.createElement(j,{spacing:'medium'},q,h.createElement('div',{className:"_599p"},o.getTitle())),h.createElement('i',{className:"_4azx"})));}});f.exports=n;},null);
__d('ReactComposerActionTaggerView.react',['ReactComposerTaggerViewMixin','ReactComposerActionTaggerItem.react','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.createClass({displayName:'ReactComposerActionTaggerView',mixins:[h],getItemImpl:function(){return i;}});f.exports=k;},null);
__d('ReactComposerActionTaggerPresenter',['ReactComposerActionTaggerView.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:h,useLayer:true,maxEntries:20};},null);
__d('DummySearchSource',['AbstractSearchSource'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.searchImpl=function(l,m,n){'use strict';m([],l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('WebAsyncSearchSourceWithMetrics',['AbstractAsyncSearchSource','AbstractSearchSource','AsyncRequest','Map','TypeaheadMetricReporter','WebAsyncSearchSourceUtils','uuid'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;o=babelHelpers.inherits(q,i);p=o&&o.prototype;function q(r,s){'use strict';p.constructor.call(this);this.$WebAsyncSearchSourceWithMetrics1=new h(r,this.$WebAsyncSearchSourceWithMetrics2.bind(this),m.normalizeResponse);this.$WebAsyncSearchSourceWithMetrics3=new l(s);this.$WebAsyncSearchSourceWithMetrics4=new k();this.$WebAsyncSearchSourceWithMetrics3.addListener&&this.$WebAsyncSearchSourceWithMetrics3.addListener('reset',(function(t){this.$WebAsyncSearchSourceWithMetrics1.setRequestData({sid:t.sid});}).bind(this));}q.prototype.bootstrapImpl=function(r){'use strict';this.$WebAsyncSearchSourceWithMetrics3.reportBootstrapBegin();this.$WebAsyncSearchSourceWithMetrics1.bootstrap((function(){this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries((function(s){this.$WebAsyncSearchSourceWithMetrics3.reportBootstrapComplete(s.map(function(t){return t.getType();}));r();}).bind(this));}).bind(this));};q.prototype.searchImpl=function(r,s,t){'use strict';this.$WebAsyncSearchSourceWithMetrics3.reportQueryBegin(r);if(t)this.$WebAsyncSearchSourceWithMetrics3.reportStrategyName(t.strategyName);var u=Date.now();this.$WebAsyncSearchSourceWithMetrics1.search(r,(function(v,w,x){this.$WebAsyncSearchSourceWithMetrics3.reportQueryComplete(Date.now()-u,0);s(v,w,x);}).bind(this),t);};q.prototype.getBootstrappedEntries=function(r){'use strict';return this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(r);};q.prototype.getAllEntriesMap=function(){'use strict';return this.$WebAsyncSearchSourceWithMetrics1.getAllEntriesMap();};q.prototype.getTypeaheadSessionID=function(){'use strict';return this.$WebAsyncSearchSourceWithMetrics3.getSID();};q.prototype.setRequestData=function(r){'use strict';this.$WebAsyncSearchSourceWithMetrics1.setRequestData(r);};q.prototype.sessionStart=function(){'use strict';this.$WebAsyncSearchSourceWithMetrics3.sessionStart();};q.prototype.sessionEnd=function(){'use strict';this.$WebAsyncSearchSourceWithMetrics3.sessionEnd();};q.prototype.reportResults=function(r){'use strict';this.$WebAsyncSearchSourceWithMetrics3.reportResults(r);};q.prototype.reportSelect=function(r,s,t,u,v,w){'use strict';this.$WebAsyncSearchSourceWithMetrics3.reportSelect(r,s,t,u,v,w);};q.prototype.reportRequestID=function(r){'use strict';this.$WebAsyncSearchSourceWithMetrics3.reportRequestID(this.$WebAsyncSearchSourceWithMetrics5(r));};q.prototype.$WebAsyncSearchSourceWithMetrics5=function(r){'use strict';var s=r;while(s.length>0){if(this.$WebAsyncSearchSourceWithMetrics4.has(s))return this.$WebAsyncSearchSourceWithMetrics4.get(s);s=s.slice(0,-1);}return this.$WebAsyncSearchSourceWithMetrics4.get('');};q.prototype.$WebAsyncSearchSourceWithMetrics2=function(r,s,t,u){'use strict';var v=r.value||'',w=n();new j(s.uri).setData(babelHelpers._extends({request_id:w},r,s.data)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setInitialHandler((function(){this.$WebAsyncSearchSourceWithMetrics4.set(v,w);}).bind(this)).setHandler(t).setErrorHandler(u).send();};f.exports=q;},null);
__d('ReactComposerActionTaggerComponent.react',['ReactComposerActionTaggerPresenter','ReactComposerTaggerViewStyles','DummySearchSource','React','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','cx','emptyFunction','fbt','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=c('BasicTypeaheadLoggerJSConstants').Fields,r=k.PropTypes,s=k.createClass({displayName:'ReactComposerActionTaggerComponent',propTypes:{autoFocus:r.bool,onSelect:r.func,placeID:r.string,taggerSource:r.instanceOf(l).isRequired,taggerViewStyle:r.shape(i.Shape)},getDefaultProps:function(){return {autoFocus:true,onSelect:o,taggerSource:new j(),taggerViewStyle:i.DEFAULT};},getInitialState:function(){this.props.taggerSource.sessionStart();return {query:''};},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},_onSelect:function(t,event){var u={};u[q.SELECTED_ORIGINAL_ID]=t.getAuxiliaryData().original_id;u[q.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(t.getUniqueID(),t.getType(),t.getOrder(),!!event&&event.button>=0,this.state.query,u);this.props.taggerSource.sessionEnd();this.setState({query:t.getTitle()});this.props.onSelect&&this.props.onSelect(t);},_onClear:function(){this.setState({query:''});this.props.onSelect&&this.props.onSelect(null);},_onChange:function(event){this.setState({query:event.target.value});},_onTypeaheadBlur:function(){this.props.taggerSource.sessionEnd();},_onTypeaheadFocus:function(){this.props.taggerSource.sessionStart();},_onEntriesFound:function(t,u){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(t.map(function(v){return v.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);},render:function(){return (k.createElement('div',{className:"_3uco _5esl"},k.createElement(m,{presenter:this._getPresenter(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:true,placeholder:p._("What are you doing?"),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onClear:this._onClear,onChange:this._onChange,onBlur:this._onTypeaheadBlur,onFocus:this._onTypeaheadFocus,onEntriesFound:this._onEntriesFound,onNoEntriesFound:this._onNoEntriesFound,tallInput:true,autoHighlight:true})));},_getPresenter:function(){var t={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},h,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:t});}});f.exports=s;},null);
__d('ReactComposerActivityTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'ReactComposerActivityTaggerButton',mixins:[h],statics:{taggerID:i.ACTIVITY},getTitle:function(){return l._("Add what you're doing or how you're feeling");},getTooltip:function(){return l._("Add what you're doing or how you're feeling");},getClassName:function(){return "_3vk5";}});f.exports=m;},null);
__d('ReactComposerObjectTaggerItem.react',['BackgroundImage.react','Badge.react','ImageBlock.react','React','TypeaheadViewItem','cx','joinClasses','Locale','UnicodeBidi'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=k.createClass({displayName:'ReactComposerObjectTaggerItem',mixins:[l.Mixin],propTypes:l.propTypes,render:function(){var r=this.props.entry,s=r.getSubtitle()?k.createElement('div',{className:"_599q"},r.getSubtitle()):null,t=r.getPhoto()?k.createElement(h,{width:32,height:32,backgroundSize:'cover',src:r.getPhoto()}):k.createElement('span',null),u=r.getAuxiliaryData(),v=u&&u.verified?v=k.createElement(i,null):null,w=u&&u.icon?k.createElement('span',{className:"_2syo",dangerouslySetInnerHTML:u.icon}):null,x="_599m"+(!s?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');x=n(x,this.props.className);var y=p.isDirectionRTL(r.getTitle()),z=o.isRTL(),aa=y&&!z?'rtl':!y&&z?'ltr':null;return (k.createElement('li',{'aria-selected':this.props.highlighted,className:x,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},k.createElement(j,{spacing:'medium'},t,k.createElement('div',null,k.createElement('div',{className:"_599p",dir:aa},r.getTitle(),v),s),w)));}});f.exports=q;},null);
__d('ReactComposerObjectTaggerView.react',['ReactComposerActionTaggerItem.react','ReactComposerObjectTaggerItem.react','ReactComposerTaggerViewMixin','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=k.createClass({displayName:'ReactComposerObjectTaggerView',mixins:[j],getItemImpl:function(){return i;},getRegexItemImpl:function(){return h;}});f.exports=l;},null);
__d('ReactComposerObjectTaggerPresenter',['ReactComposerObjectTaggerView.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:h,useLayer:true,maxEntries:120};},null);
__d('ReactComposerObjectTaggerComponent.react',['ReactComposerObjectTaggerPresenter','ReactComposerTaggerViewStyles','DummySearchSource','Grid.react','React','RegexMatchSearchSource','WebAsyncPlusRegexSearchSource','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','cx','emptyFunction','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=k.GridItem,t=c('BasicTypeaheadLoggerJSConstants').Fields,u=l.PropTypes,v=l.createClass({displayName:'ReactComposerObjectTaggerComponent',propTypes:{action:u.object.isRequired,actionTypeIDsWithNoFreeForm:u.object.isRequired,autoFocus:u.bool,object:u.object,onClear:u.func.isRequired,onEmptyBackspace:u.func.isRequired,onPrefixClick:u.func.isRequired,onSelect:u.func.isRequired,placeID:u.string,taggerSource:u.instanceOf(o).isRequired,taggerViewStyle:u.shape(i.Shape)},getDefaultProps:function(){return {actionTypeIDsWithNoFreeForm:{},autoFocus:true,onClear:r,onEmptyBackspace:r,onPrefixClick:r,onSelect:r,taggerSource:new j(),taggerViewStyle:i.DEFAULT};},getInitialState:function(){var w=this.props.taggerSource,x=this.props.action.getUniqueID(),y=this.props.actionTypeIDsWithNoFreeForm,z=!y[x];if(z){var aa=new m('.+');w=new n({asyncSource:w,regexSource:aa,appendRegexEntries:true});}setTimeout((function(){this.props.taggerSource.sessionStart();}).bind(this),0);return {query:this.props.object?this.props.object.getTitle():'',searchSource:w};},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},_onSelect:function(w,event){var x={};x[t.SELECTED_ORIGINAL_ID]=w.getAuxiliaryData().original_id;x[t.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(w.getUniqueID(),w.getType(),w.getOrder(),!!event&&event.button>=0,this.state.query,x);this.props.taggerSource.sessionEnd();this.setState({query:w.getTitle()});this.props.onSelect(w);},_onBackspace:function(event){if(this.props.object&&this.props.object.getTitle()===event.target.value)this.props.onSelect(null);if(event.target.value==='')this.props.onEmptyBackspace();},_onClear:function(){this.setState({query:''});this.props.onClear();},_onChange:function(event){this.setState({query:event.target.value});},_onPrefixClick:function(){this.props.onPrefixClick();},_onTypeaheadBlur:function(){this.props.taggerSource.sessionEnd();},_onTypeaheadFocus:function(){setTimeout((function(){this.props.taggerSource.sessionStart();}).bind(this),0);},_onEntriesFound:function(w,x){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(w.map(function(y){return y.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);},focusInput:function(){var w=this.refs.objectTypeahead;if(w)w.focusInput&&w.focusInput();},render:function(){var w=this.props.action.getAuxiliaryData(),x=w?w.prompt:'';return (l.createElement(k,{cols:2,className:"_52wi _5esl",role:'presentation'},l.createElement(s,{className:"_5esm _t2_",key:'prefix',role:'presentation',onClick:this._onPrefixClick},this.props.action.getTitle()),l.createElement(s,{className:"_5esw",key:'suffix',role:'presentation'},l.createElement(p,{ref:'objectTypeahead',presenter:this._getPresenter(),clearable:true,focusedOnInit:this.props.autoFocus,autoHighlight:true,showEntriesOnFocus:true,placeholder:x,selectedEntry:this.props.object,className:"_5esx _52xo",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onBackspace:this._onBackspace,onClear:this._onClear,onChange:this._onChange,onBlur:this._onTypeaheadBlur,onEntriesFound:this._onEntriesFound,onNoEntriesFound:this._onNoEntriesFound,onFocus:this._onTypeaheadFocus,tallInput:false}))));},_getPresenter:function(){var w={};w.taggerViewStyle=this.props.taggerViewStyle;w.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},h,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:w});}});f.exports=v;},null);
__d('ReactComposerObjectTaggerContainer.react',['ReactComposerObjectTaggerComponent.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTaggerViewStyles','React','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'ReactComposerObjectTaggerContainer',mixins:[i(j)],propTypes:{action:o.object.isRequired,autoFocus:o.bool,onClear:o.func.isRequired,onEmptyBackspace:o.func.isRequired,onPrefixClick:o.func.isRequired,onSelect:o.func.isRequired,object:o.object,taggerViewStyle:o.shape(l.Shape)},getDefaultProps:function(){return {autoFocus:true,onClear:n,onEmptyBackspace:n,onPrefixClick:n,onSelect:n,taggerViewStyle:l.DEFAULT};},statics:{calculateState:function(q,r){var s=j.getTaggerSource(q,k.OG);return {taggerSource:s};}},render:function(){return (m.createElement(h,babelHelpers._extends({ref:'objectTagger'},this.props,{taggerSource:this.state.taggerSource})));},focusInput:function(){var q=this.refs.objectTagger;q&&q.focusInput();}});f.exports=p;},null);
__d('ReactComposerActivityTaggerComponent.react',['ReactComposerActionTaggerComponent.react','ReactComposerObjectTaggerContainer.react','ReactComposerTaggerViewStyles','DummySearchSource','React','WebAsyncSearchSourceWithMetrics','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'ReactComposerActivityTaggerComponent',propTypes:{actionTypeIDsWithNoFreeForm:o.object.isRequired,actorID:o.string.isRequired,autoFocus:o.bool,placeID:o.string,taggerData:o.object.isRequired,taggerSource:o.instanceOf(m).isRequired,onSelect:o.func.isRequired,actionTaggerViewStyle:o.shape(j.Shape),objectTaggerViewStyle:o.shape(j.Shape)},getDefaultProps:function(){return {actionTypeIDsWithNoFreeForm:{},autoFocus:true,taggerData:{},taggerSource:new k(),onSelect:n,actionTaggerViewStyle:j.DEFAULT,objectTaggerViewStyle:j.DEFAULT};},getInitialState:function(){return {action:this.props.taggerData.action,object:this.props.taggerData.object};},componentDidUpdate:function(){if(this.state.action&&!this.state.object){var q=this.refs.objectTagger;q&&q.focusInput();}},componentWillUnmount:function(){if(this.state.action&&!this.state.object)this._clearActionTypeAndObject();},render:function(){if(this.state.action)return (l.createElement(i,{ref:'objectTagger',action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this._clearActionTypeAndObject,onEmptyBackspace:this._clearActionTypeAndObject,onPrefixClick:this._clearActionTypeAndObject,onSelect:this._onChangeObject,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle}));return (l.createElement(h,{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this._onChangeAction,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle}));},_onChangeAction:function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(q,null));this.setState({action:q});},_onChangeObject:function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,q));this.setState({object:q});},_clearActionTypeAndObject:function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null));this.setState({action:null,object:null});},getTaggerData:function(q,r){var s=this.props.taggerData;s.action=q;s.object=r;var t=r?r.getAuxiliaryData():{};s.eventExpansionType=t.event_expansion_type;return s;}});f.exports=p;},null);
__d('ReactComposerActivityTaggerContainer.react',['ReactComposerActivityTaggerComponent.react','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerMinutiaeAttachmentActions','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','BasicTypeaheadLoggerJSConstants','Map','OGComposerJSConstants','React','WebAsyncSearchSourceWithMetrics','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=s.PropTypes,w=s.createClass({displayName:'ReactComposerActivityTaggerContainer',_actionTypeSearchSources:new q(),_objectSearchSources:new q(),mixins:[m],statics:{taggerID:n.ACTIVITY,taggerComponent:h},propTypes:{actionTypeIDsToPrefetch:v.array.isRequired,actionTypeIDsWithNoFreeForm:v.object.isRequired,isPersonalTimeline:v.bool,rankVerbs:v.bool,placeID:v.string,typeaheadLoggerEventName:v.oneOf(u(p.EventNames)).isRequired,actionTaggerViewStyle:v.shape(o.Shape),objectTaggerViewStyle:v.shape(o.Shape)},getDefaultProps:function(){return {actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:false,placeID:null,rankVerbs:false,actionTaggerViewStyle:o.DEFAULT,objectTaggerViewStyle:o.DEFAULT};},getInitialState:function(){return {hasDoneInitialObjectPrefetch:false};},componentWillMount:function(){this._updateActionTypeSearchSource(this.props.placeID);},componentWillReceiveProps:function(x){if(x.placeID!==this.props.placeID){this._updateActionTypeSearchSource(x.placeID);this._prefetchObjectSearchSources(x.placeID);}},componentWillUpdate:function(x,y){if(!this.state.isSelected&&y.isSelected){var z=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:z});var aa=this.state.hasDoneInitialObjectPrefetch||y.hasDoneInitialObjectPrefetch;if(!aa)this._prefetchObjectSearchSources(this.props.placeID);}},__onTaggerDataChanged:function(x){if(x.action){this._updateObjectSearchSource(x.action.getUniqueID());if(!x.object){var y=this._objectSearchSources.get(x.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(x.action.getUniqueID(),this.props.placeID,{sid:y});}}if(x.action&&x.object){l.selectTagger(this.context.composerID,null);var z=this._shouldFetchMinutiaeAttachment(x.action,x.object);if(z)k.fetchMinutiaeAttachment(this.context.composerID,x.action.getUniqueID(),x.object.getUniqueID(),this.context.targetID,!!this.props.isPersonalTimeline);}else k.setMarkup(this.context.composerID,null);},_shouldFetchMinutiaeAttachment:function(x,y){var z=i.getIsAttachmentSelected(this.context.composerID,j.STATUS);if(!z)return false;if(y.getAuxiliaryData().isRegexEntry)return false;return true;},_updateActionTypeSearchSource:function(x){var y=null;if(this._actionTypeSearchSources.has(x)){y=this._actionTypeSearchSources.get(x);}else{y=this._createAndBootstrapActionTypeSearchSource(x,{is_prefetching:true});this._actionTypeSearchSources.set(x,y);}l.setTaggerSource(this.context.composerID,n.ACTIVITY,y);},_createAndBootstrapActionTypeSearchSource:function(x,y){var z='/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader',aa={place_id:x,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID},ba={getAllForEmptyQuery:true,bootstrapRequests:[{uri:z,data:Object.assign({},aa)}],queryRequests:[],auxiliaryFields:{default_icon:'default_icon',icon:'icon',original_id:'original_id',prompt:'prompt'}};if(this.props.rankVerbs)ba.queryRequests=[{uri:z,data:Object.assign({},aa)}];var ca={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:p.MinutiaeComposerVersions.REACT,at_id:r.ActionTypeIDs.COMPOSER_SELECTS_VERB},da=new t(ba,ca),ea=da.getTypeaheadSessionID();da.setRequestData(y);da.bootstrap();da.setRequestData({sid:ea});return da;},_prefetchObjectSearchSources:function(x){var y=this.props.actionTypeIDsToPrefetch,z=new q();y.forEach((function(aa){var ba=this._createAndBootstrapObjectSearchSource(aa,x,{is_prefetching:true});z.set(aa,ba);}).bind(this));this._objectSearchSources=z;this.setState({hasDoneInitialObjectPrefetch:true});},_updateObjectSearchSource:function(x){var y=null;if(this._objectSearchSources.has(x)){y=this._objectSearchSources.get(x);}else{y=this._createAndBootstrapObjectSearchSource(x,this.props.placeID,{is_prefetching:false});this._objectSearchSources.set(x,y);}l.setTaggerSource(this.context.composerID,n.OG,y);},_createAndBootstrapObjectSearchSource:function(x,y,z){var aa='/ajax/metacomposer/attachment/og/typeahead/query/object_loader',ba={at_id:x,place_id:y,viewer:this.props.actorID},ca={getAllForEmptyQuery:true,bootstrapRequests:[{uri:aa,data:Object.assign({},ba,{is_bootstrap:true})}],queryRequests:[{uri:aa,data:Object.assign({},ba,{is_bootstrap:false})}],auxiliaryFields:{icon:'icon',event_expansion_type:'event_expansion_type',original_id:'original_id',verified:'is_verified'}},da={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:p.MinutiaeComposerVersions.REACT,at_id:x},ea=new t(ca,da),fa=ea.getTypeaheadSessionID();ea.setRequestData(z);ea.bootstrap();ea.setRequestData({sid:fa});return ea;}});f.exports=w;},null);
__d('ReactComposerLocationSearchSource',['SearchableEntry','WebAsyncSearchSourceWithMetrics','isValidUniqueID'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m,n){var o=Object.assign({include_subtext:true,include_address:1,exact_match:false,use_unicorn:true,allow_places:true,allow_cities:true,render_map:false,limit:15},m),p={bootstrapRequests:[{uri:'/ajax/places/typeahead',data:l}],getAllForEmptyQuery:true,queryRequests:[{uri:'/ajax/places/typeahead',data:o}],packageFn:function(q){var r=q.title||q.text,s=q.uniqueID||q.uid;if(!r||!j(s))return null;var t=[];if(q.address)t.push(q.address);if(q.subtext)t.push(q.subtext);return new h({auxiliaryData:{address:q.address,cityID:q.city_id,cityName:q.city_name,cityPageID:q.city_page_id},photo:q.photo,subtitle:t.join(' \u00b7 '),title:r,type:q.place_type,uniqueID:s,uri:q.uri||q.path});}};return new i(p,n);}f.exports=k;},null);
__d('ReactComposerLocationTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'ReactComposerLocationTaggerButton',mixins:[h],statics:{taggerID:i.LOCATION},getTitle:function(){return l._("Tag a location");},getTooltip:function(){return l._("Add a location to your post");},getClassName:function(){return "_52xx";}});f.exports=m;},null);
__d('ReactComposerLocationTypeaheadComponent.react',['React','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ReactComposerLocationTypeaheadComponent',propTypes:{autoFocus:m.bool,defaultLocation:m.string,implicitLocationEnabled:m.bool,onSelect:m.func,placeholder:m.string,presenter:m.object,taggerData:m.object.isRequired,taggerSource:m.instanceOf(i).isRequired},getDefaultProps:function(){return {autoFocus:true,implicitLocationEnabled:false,onSelect:k,placeholder:l._("Where are you?"),taggerData:{}};},getInitialState:function(){this.props.taggerSource.sessionStart();var o={};if(this.props.defaultLocation){o.query=this.props.defaultLocation;}else o.query=this.props.taggerData.place?this.props.taggerData.place.getTitle():'';return o;},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},render:function(){return (h.createElement(j,{className:this.props.className,clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,initialEntry:this.props.taggerData.place,onBackspace:this._onBackspace,onBlur:this._onBlur,onChange:this._onChange,onClear:this._onClear,onEntriesFound:this._onEntriesFound,onFocus:this._onFocus,onNoEntriesFound:this._onNoEntriesFound,onSelectAttempt:this._onSelect,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:true,tallInput:false}));},_getCopyOfData:function(){return Object.assign({},this.props.taggerData);},_onSelect:function(o,event){this.props.taggerSource.reportSelect(o.getUniqueID(),o.getType(),o.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var p=this._getCopyOfData();p.place=o;this.setState({query:o.getTitle()});this.props.onSelect&&this.props.onSelect(p);},_onChange:function(event){this.setState({query:event.target.value});},_onBackspace:function(event){if(this.state.query===event.target.value)this._removePlace();},_onClear:function(){this._removePlace();this.setState({query:''});},_removePlace:function(){var o=this._getCopyOfData();o.place=null;if(!this.props.implicitLocationEnabled)o.implicitLocation=null;this.props.onSelect&&this.props.onSelect(o);},_onBlur:function(){this.props.taggerSource.sessionEnd();},_onFocus:function(){this.props.taggerSource.sessionStart();},_onEntriesFound:function(o,p){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(o.map(function(q){return q.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);}});f.exports=n;},null);
__d('ReactComposerTaggerView.react',['ReactComposerTaggerViewMixin','React','XUITypeaheadViewItem.react'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.createClass({displayName:'ReactComposerTaggerView',mixins:[h],getItemImpl:function(){return j;}});f.exports=k;},null);
__d('ReactComposerTaggerPresenter',['ReactComposerTaggerView.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:h,useLayer:true};},null);
__d('ReactComposerLocationTaggerComponent.react',['ReactComposerLocationTypeaheadComponent.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=k.GridItem,p=l.PropTypes,q=l.createClass({displayName:'ReactComposerLocationTaggerComponent',propTypes:{autoFocus:p.bool,implicitLocationEnabled:p.bool,onSelect:p.func,placeholder:p.string,taggerData:p.object.isRequired,taggerViewStyle:p.shape(j.Shape)},getDefaultProps:function(){return {taggerViewStyle:j.DEFAULT};},render:function(){return (l.createElement(k,{cols:2,className:"_5es8 _5esl",role:'presentation'},l.createElement(o,{key:'prefix',className:"_5esm",role:'presentation'},n._("At")),l.createElement(o,{key:'tagger',className:"_5esw",role:'presentation'},l.createElement(h,babelHelpers._extends({},this.props,{className:"_5esx _5esy",presenter:this._getPresenter()})))));},_getPresenter:function(){var r={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},i,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:r,maxEntries:15});}});f.exports=q;},null);
__d('ReactComposerLocationTaggerContainer.react',['ReactComposerLocationSearchSource','ReactComposerLocationAttachmentActions','ReactComposerLocationTaggerComponent.react','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','PlaceSearchConstants','React','areEqual','emptyFunction','getObjectValues','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=c('BasicTypeaheadLoggerJSConstants').EventNames,u=p.PropTypes,v=p.createClass({displayName:'ReactComposerLocationTaggerContainer',_taggerSourceInitialized:false,mixins:[l],propTypes:{hideGeoHubs:u.bool,mediaLocation:u.shape({latitude:u.number.isRequired,longitude:u.number.isRequired}),onSelect:u.func.isRequired,taggerData:u.object,taggerViewStyle:u.shape(n.Shape),typeaheadLoggerEventName:u.oneOf(s(t)).isRequired,typeaheadSearchSource:u.oneOf(s(o)).isRequired},getDefaultProps:function(){return {hideGeoHubs:false,onSelect:r,taggerViewStyle:n.DEFAULT};},componentWillMount:function(){if(!this._taggerSourceInitialized){this._setNewSearchSource(this.props);this._taggerSourceInitialized=true;}},componentWillReceiveProps:function(w){if(!q(w.mediaLocation,this.props.mediaLocation))this._setNewSearchSource(w);},statics:{taggerID:m.LOCATION,taggerComponent:j},__onTaggerDataChanged:function(w){var x=w.place&&w.place.getAuxiliaryData();if(x)w.implicitLocation={cityid:x.cityID,citypageid:x.cityPageID,citystring:x.cityName};if(w.place){k.selectTagger(this.context.composerID,null);i.fetchLocationAttachment(this.context.composerID,w.place.getUniqueID(),this.context.targetID);}else i.setMarkup(this.context.composerID,null);},_setNewSearchSource:function(w){var x={latitude:(w.mediaLocation||{}).latitude,longitude:(w.mediaLocation||{}).longitude},y={hide_geo:w.hideGeoHubs,latitude:(w.mediaLocation||{}).latitude,longitude:(w.mediaLocation||{}).longitude},z={event_name:w.typeaheadLoggerEventName,event_specific_data:{context:'places_typeahead:'+w.typeaheadSearchSource,source:w.typeaheadSearchSource,ref:'ReactComposerLocationTypeaheadComponent.react'}},aa=h(x,y,z);k.setTaggerSource(this.context.composerID,m.LOCATION,aa);}});f.exports=v;},null);
__d('ReactComposerPeopleTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'ReactComposerPeopleTaggerButton',mixins:[h],statics:{taggerID:i.PEOPLE},getTitle:function(){return l._("Tag people");},getTooltip:function(){return l._("Tag people in your post");},getClassName:function(){return "_41bh";}});f.exports=m;},null);
__d('ReactComposerPeopleTaggerTokenizerToken.react',['React','SearchableEntry','TokenizerToken.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ReactComposerPeopleTaggerTokenizerToken',propTypes:{label:m.string.isRequired,entry:m.instanceOf(i).isRequired,onRemove:m.func,highlighted:m.bool},_renderGlyph:function(){return (h.createElement('span',{className:"_jsa"}));},render:function(){var o=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,p=(o?"_jsb":'')+(' '+"_jsc");return (h.createElement(j,babelHelpers._extends({},this.props,{className:l(this.props.className,p),glyph:this._renderGlyph()})));}});f.exports=n;},null);
__d('ReactComposerPeopleTaggerComponent.react',['ReactComposerPeopleTaggerTokenizerToken.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','XUITokenizer.react','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=k.GridItem,r=l.PropTypes,s=l.createClass({displayName:'ReactComposerPeopleTaggerComponent',propTypes:{actorID:r.string,autoFocus:r.bool,placeholder:r.string,taggerSource:r.object.isRequired,taggerData:r.array.isRequired,onPeopleTagRemove:r.func,onSelect:r.func,taggerViewStyle:r.shape(j.Shape)},getDefaultProps:function(){return {autoFocus:true,onSelect:o,placeholder:p._("Who are you with?"),taggerViewStyle:j.DEFAULT,taggerData:[]};},_onAdd:function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(x){return x.getUniqueID()===v;});if(w){return;}else u.push(t);this.props.onSelect&&this.props.onSelect(u);},_onRemove:function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;u.splice(v,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(t);this.props.onSelect&&this.props.onSelect(u);},render:function(){var t={};if(this.props.actorID)t[this.props.actorID]=true;return (l.createElement(k,{cols:2,className:"_3v-g _5esl",role:'presentation'},l.createElement(q,{key:'label',className:"_5esm",role:'presentation'},p._("With")),l.createElement(q,{key:'tokenizer',className:"_5esw",role:'presentation'},l.createElement(m,babelHelpers._extends({presenter:this._getPresenter(),focusedOnInit:this.props.autoFocus,excludedEntries:t,entries:this.props.taggerData,className:"_5esx _3v-n",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this._onAdd,onRemoveEntryAttempt:this._onRemove},this.props)))));},_getPresenter:function(){var t=this.props.peopleTaggerConfig&&this.props.peopleTaggerConfig.presenter?this.props.peopleTaggerConfig.presenter:i,u={};u.taggerViewStyle=this.props.taggerViewStyle;u.viewProps=this.props.peopleTaggerConfig&&this.props.peopleTaggerConfig.typeaheadViewProps;return Object.assign({},t,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:u,TokenRenderer:h});}});f.exports=s;},null);
__d('ReactComposerPeopleTaggerContainer.react',['ReactComposerPeopleTaggerComponent.react','ReactComposerPhotoActions','ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=n.PropTypes,p=n.createClass({displayName:'ReactComposerPeopleTaggerContainer',mixins:[k],propTypes:{actorID:o.string,taggerData:o.array,taggerViewStyle:o.shape(m.Shape)},getDefaultProps:function(){return {taggerViewStyle:m.DEFAULT};},statics:{taggerID:l.PEOPLE},render:function(){if(!this.state.isSelected)return n.createElement('noscript',null);return (n.createElement(h,babelHelpers._extends({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource})));},_onTaggerDataChanged:function(q){j.setTaggerData(this.context.composerID,l.PEOPLE,q);this.props.onSelect&&this.props.onSelect(q);},_onPeopleTagRemove:function(q){i.untagSubjectFromAllPhotos(this.context.composerID,q.getUniqueID());}});f.exports=p;},null);
__d('ReactShareDialogComposerActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_SHARE_DIALOG_TARGET:null,SET_SHARE_DIALOG_TARGET_INFO:null,SET_SHARE_DIALOG_ATTRIBUTION:null,SET_SHARE_DIALOG_TYPE:null});},null);
__d('ReactShareDialogComposerStore',['ReactComposerStoreBase','ReactShareDialogComposerActionType'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {target:null,targetInfo:{},attribution:null};},function(n){switch(n.type){case i.SET_SHARE_DIALOG_TARGET:m&&m.$ReactShareDialogComposerStore1(n);break;case i.SET_SHARE_DIALOG_TARGET_INFO:m&&m.$ReactShareDialogComposerStore2(n);break;case i.SET_SHARE_DIALOG_ATTRIBUTION:m&&m.$ReactShareDialogComposerStore3(n);break;case i.SET_SHARE_DIALOG_TYPE:m&&m.$ReactShareDialogComposerStore4(n);break;}});m=this;}l.prototype.getTarget=function(m){'use strict';return this.getComposerData(m).target;};l.prototype.getTargetInfo=function(m){'use strict';return this.getComposerData(m).targetInfo;};l.prototype.getAttribution=function(m){'use strict';return this.getComposerData(m).attribution;};l.prototype.getShareDialogType=function(m){'use strict';return this.getComposerData(m).shareType;};l.prototype.$ReactShareDialogComposerStore1=function(m){'use strict';var n=this.getComposerData(m.composerID);n.target=m.target;this.emitChange(m.composerID);};l.prototype.$ReactShareDialogComposerStore2=function(m){'use strict';var n=this.getComposerData(m.composerID);n.targetInfo=m.targetInfo;this.emitChange(m.composerID);};l.prototype.$ReactShareDialogComposerStore3=function(m){'use strict';var n=this.getComposerData(m.composerID);n.attribution=m.attribution;this.emitChange(m.composerID);};l.prototype.$ReactShareDialogComposerStore4=function(m){'use strict';var n=this.getComposerData(m.composerID);n.shareType=m.shareType;this.emitChange(m.composerID);};f.exports=new l();},null);
__d('ReactShareDialogComposerActions',['ReactComposerDispatcher','ReactShareDialogComposerActionType','ReactShareDialogComposerStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactShareDialogComposerStore');var j={setTarget:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_TARGET,target:l});},setTargetInfo:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_TARGET_INFO,targetInfo:l});},setAttribution:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_ATTRIBUTION,attribution:l});},setTypeOfShare:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_TYPE,shareType:l});}};f.exports=j;},null);
__d('ShareDialogAttribution.react',['React','cx','emptyFunction','fbt','Link.react'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ShareDialogAttribution',propTypes:{name:m.string,onRemove:m.func},getDefaultProps:function(){return {onRemove:j};},_onRemove:function(){this.props.onRemove();},render:function(){return (h.createElement('div',{className:"_5qio"},h.createElement('span',null,k._("via")),' ',this.props.name,'  (',h.createElement(l,{onClick:this._onRemove},k._("remove")),')'));}});f.exports=n;},null);
__d('ShareDialogAttachment.react',['React','cx','emptyFunction','fbt','Link.react'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ShareDialogAttachment',propTypes:{overflowing:m.bool,onExpand:m.func,onCollapse:m.func},getDefaultProps:function(){return {overflowing:false,onExpand:j,onCollapse:j};},getInitialState:function(){return {expanded:false};},_toggle:function(){if(this.state.expanded){this.props.onCollapse();}else this.props.onExpand();this.setState({expanded:!this.state.expanded});},render:function(){var o;if(this.props.overflowing){var p;if(this.state.expanded){p=h.createElement('span',null,h.createElement('span',{className:"_u_1"},'↑'),' ',k._("Collapse"));}else p=h.createElement('span',null,k._("Show All"),' ',h.createElement('span',{className:"_u_1"},'↓'));o=h.createElement('p',{className:"_u_2"},h.createElement(l,{className:"_u_3",onClick:this._toggle},p));}var q="_u_4"+(this.props.overflowing&&!this.state.expanded?' '+"_u_5":'');return (h.createElement('div',{className:q},o,this.props.children));}});f.exports=n;},null);
__d('ReactShareDialogAttachmentContainer.react',['ReactComposerContextMixin','ShareDialogAttachment.react','DOMContainer.react','LitestandShareAttachment','React','ReactDOM','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=400,q=l.createClass({displayName:'ReactShareDialogAttachmentContainer',mixins:[h],propTypes:{attachment:o.instanceOf(HTMLElement)},getInitialState:function(){return {shouldOverflow:false};},componentDidMount:function(){setTimeout((function(){var r=false;if(this.props.attachment&&this.refs.attachment){var s=m.findDOMNode(this.refs.attachment);if(s){k.init(s);r=s.clientHeight>p;}}this.setState({shouldOverflow:r});}).bind(this),0);},render:function(){if(!this.props.attachment)return null;return (l.createElement(i,{overflowing:this.state.shouldOverflow},l.createElement('div',{ref:'attachment',className:"_51jo"},l.createElement(j,null,this.props.attachment),l.createElement('div',{className:"_2nzp"}))));}});f.exports=q;},null);
__d('ReactShareDialogComposerStatusAttachmentFooter.react',['ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAudienceSelectorContainer.react','ReactComposerContextMixin','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ShareDialogAudienceTypes','Image.react','ix','InlineBlock.react','Tooltip','LeftRight.react','PlaceSearchConstants','ReactComponentWithPureRenderMixin','React','ReactDOM','XUIAmbientNUX.react','XUIButton.react','cx','emptyFunction','fbt','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){if(c.__markCompiled)c.__markCompiled();var ka=c('BasicTypeaheadLoggerJSConstants').EventNames,la=da.PropTypes,ma=da.createClass({displayName:'ReactShareDialogComposerStatusAttachmentFooter',mixins:[ca,k],propTypes:{taggersSource:la.object.isRequired,privacySelector:la.instanceOf(HTMLElement).isRequired,onActivityNUXClose:la.func,onCancel:la.func.isRequired,onPost:la.func.isRequired,onSelectActivity:la.func.isRequired,onSelectLocation:la.func.isRequired,placeID:la.string,showActivityNUX:la.bool,showTaggers:la.bool.isRequired,posting:la.bool,taggersConfig:la.object.isRequired,target:v.isValid,targetInfo:la.object.isRequired},getDefaultProps:function(){return {onCancel:ia,onPost:ia,onActivityNUXClose:ia,onSelectActivity:ia,onSelectLocation:ia,showActivityNUX:false,showTaggers:false,targetInfo:{}};},render:function(){return (da.createElement('div',null,this._getTaggers(),da.createElement(l,{background:'light-wash'},da.createElement(aa,null,this._getButtons(),this._getFooterActions()))));},_getTaggers:function(){if(!this.props.showTaggers)return da.createElement('noscript',null);var na=this.props.taggersConfig[t.OG];return (da.createElement(s,null,da.createElement(q,{actorID:this.context.actorID,layerPosition:'above',taggerSource:this.props.taggersSource[t.PEOPLE],taggerViewStyle:u.DEFAULT}),da.createElement(o,{actorID:this.context.actorID,layerPosition:'above',onSelect:this.props.onSelectLocation,taggerSource:this.props.taggersSource[t.LOCATION],taggerViewStyle:u.SCROLLABLE_SHORT,typeaheadLoggerEventName:ka.REACT_SHARE_DIALOG_LOCATION_TAGGER,typeaheadSearchSource:ba.SOURCE_W_COMPOSER}),da.createElement(i,{actorID:this.context.actorID,layerPosition:'above',onSelect:this.props.onSelectActivity,placeID:this.props.placeID,taggerSource:this.props.taggersSource[t.ACTIVITY],actionTypeIDsWithNoFreeForm:na.actionTypeIDsWithNoFreeForm,actionTypeIDsToPrefetch:na.actionTypeIDsToPrefetch,rankVerbs:na.rankVerbs,typeaheadLoggerEventName:ka.REACT_SHARE_DIALOG_OG_TAGGER,actionTaggerViewStyle:u.SCROLLABLE_SHORT,objectTaggerViewStyle:u.SCROLLABLE_SHORT})));},_getButtons:function(){if(!this.props.showTaggers||this.props.posting)return da.createElement('noscript',null);return (da.createElement(r,null,da.createElement(p,null),da.createElement(n,null),da.createElement(h,{ref:'activityButton'}),this._getActivityNUX()));},_getActivityNUX:function(){if(!this.props.showActivityNUX||!this.refs.activityButton)return null;return (da.createElement(fa,{context:ea.findDOMNode(this.refs.activityButton),onCloseButtonClick:this.props.onActivityNUXClose,position:'above',shown:true},ja._("New! You can choose to share your feelings and activities.")));},_getFooterActions:function(){var na,oa;if(!this.props.posting){if(this.props.target===v.OWN)na=da.createElement(j,{audienceXHP:this.props.privacySelector,viewerIsTarget:this.props.target===v.OWN});if(this.props.target===v.GROUP){var pa=ja._("People who can see posts in the group");oa=da.createElement(y,babelHelpers._extends({className:"_3-90"},z.propsFor(pa)),da.createElement(w,{className:"_4q3o",src:x('/images/litestand/audience/group.png')}));}}var qa=this.props.target!==v.OWN&&!this.props.targetInfo.audienceTargets,ra=this.props.postButtonLabel;if(ra===undefined)if(this.props.target!==v.MESSAGE){ra=this.props.posting?ja._("Posting"):ja._("Post");}else ra=this.props.posting?ja._("Sending"):ja._("Send");return (da.createElement(m,null,na,oa,da.createElement('div',{className:"_4-88"},da.createElement(ga,{use:'default',label:ja._("Cancel"),className:"_2g60",onClick:this.props.onCancel}),da.createElement(ga,{use:'confirm',label:ra,className:"_2g61",onClick:this.props.onPost,disabled:qa}))));}});f.exports=ma;},null);
__d('ReactShareDialogComposerStatusAttachmentFooterContainer.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ComposerXNUX','ReactShareDialogComposerStatusAttachmentFooter.react','ReactShareDialogComposerStore','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=p.PropTypes,r=p.createClass({displayName:'ReactShareDialogComposerStatusAttachmentFooterContainer',mixins:[o,h(j,n)],propTypes:{showActivityNUX:q.bool},statics:{calculateState:function(s,t){var u=j.getTaggerData(s,k.LOCATION),v=u&&u.place&&u.place.getUniqueID();return {placeID:v,target:n.getTarget(s),targetInfo:n.getTargetInfo(s)};}},getInitialState:function(){return {showActivityNUX:this.props.showActivityNUX,posting:false};},componentWillMount:function(){if(this.props.showActivityNUX)setTimeout((function(){this.setState({showActivityNUX:true});}).bind(this),1000);},render:function(){return (p.createElement(m,babelHelpers._extends({},this.props,this.state,{onActivityNUXClose:this._onActivityNUXClose,onPost:this._onPost,onSelectActivity:this._closeTaggers,onSelectLocation:this._closeTaggers})));},_closeTaggers:function(s){if(s&&s.action&&!s.object)return;i.selectTagger(this.context.composerID,null);},_onActivityNUXClose:function(){this.setState({showActivityNUX:false});l.sendMarkSeenRequest(l.SHARER_MINUTIAE_NUX);},_onPost:function(s){this.setState({posting:true});this.props.onPost(s);}});f.exports=r;},null);
__d('ShareDialogDropdownForSharePostOrLink.react',['ShareNowCounter','ShareNowCounterEvent','React','XUICheckboxInput.react','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o='post_and_link',p='link_only',q=j.PropTypes;g.framework='React';var r=j.createClass({displayName:'ShareDialogDropdownForSharePostOrLink',propTypes:{onSelectSharePostOrLink:q.func},getDefaultProps:function(){return {onSelectSharePostOrLink:m};},componentDidMount:function(){this.props.onSelectSharePostOrLink(this.state.value===o);},getInitialState:function(){return {value:o};},onChange:function(s){h.logEvent(s?i.DROPDOWN_SELECT_SHARE_POST:i.DROPDOWN_SELECT_SHARE_LINK);this.setState({value:s?p:o});this.props.onSelectSharePostOrLink(!s);},render:function(){return (j.createElement('div',{className:"_3-9a"},j.createElement(k,{name:'share type',checked:this.state.value===o,onChange:this.onChange.bind(this,this.state.value===o)}),n._("Include Original Post")));}});f.exports=r;},null);
__d('ShareDialogWarningNotice.react',['FBToggle.react','Image.react','LeftRight.react','React','cx','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'ShareDialogWarningNotice',propTypes:{warning:o.object.isRequired},render:function(){return (k.createElement(h,{className:"_3ba_"},k.createElement(j,{className:"_3bb0"},k.createElement('span',{className:"_3bb1"},k.createElement(i,{src:n({name:'help-solid',shade:'accent',size:'medium'})})),k.createElement('span',{className:"_3bb2"},m._("Who can see this?"))),k.createElement('div',{className:"_3bb3"},k.createElement('span',{dangerouslySetInnerHTML:this.props.warning}))));}});f.exports=p;},null);
__d('ReactShareDialogComposerStatusAttachment.react',['ReactComposerContextMixin','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerTaggerSummaryContainer.react','ReactComposerTaggerType','ShareDialogAttribution.react','ReactShareDialogAttachmentContainer.react','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachmentFooterContainer.react','ReactShareDialogComposerActions','ShareDialogDataSources','ShareDialogDropdownForSharePostOrLink.react','ShareDialogWarningNotice.react','SharerType','React','XUINotice.react','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=u.PropTypes,aa=u.createClass({displayName:'ReactShareDialogComposerStatusAttachment',_inputContainer:i,mixins:[h],propTypes:{activeAudience:n.propType,privacySelector:z.instanceOf(HTMLElement).isRequired,attachment:z.object,dataSources:z.instanceOf(q).isRequired,taggersData:z.object,onCancel:z.func,onPost:z.func,onRemoveAttribution:z.func,publicityWarning:z.object,showDoingNUX:z.bool,via:z.object,useCheckinBranding:z.bool,sharerType:z.oneOf([t.ALL_MODES,t.MESSAGE_ONLY,t.PAGE_ONLY,t.PAGE_VIEWER]),subtleWarning:z.bool,taggersConfig:z.object.isRequired,postButtonLabel:z.string,postPreview:z.object},getInitialState:function(){return {showPostPreview:this.props.postPreview!==null};},getDefaultProps:function(){return {taggersData:{},onCancel:x,onPost:x,onRemoveAttribution:x,postPreview:null};},componentDidMount:function(){this._inputContainer.focus();},_getDropdownForSharePostOrLink:function(){return u.createElement(r,{onSelectSharePostOrLink:this._onSelectSharePostOrLink});},_onSelectSharePostOrLink:function(ba){this.setState({showPostPreview:this.props.postPreview?ba:false});p.setTypeOfShare(this.context.composerID,ba);},render:function(){var ba=this.props.dataSources,ca=this.props.activeAudience!==n.MESSAGE?ba.getSource(q.TYPES.MENTIONS):null,da=y._("Say something about this..."),ea=u.createElement('noscript',null);if(this._shouldShowTaggers())ea=u.createElement(j,null);var fa=this.state.showPostPreview&&this.props.activeAudience!==n.MESSAGE?this.props.postPreview:this.props.attachment,ga=this.props.activeAudience===n.MESSAGE||this.props.postPreview===null?null:this._getDropdownForSharePostOrLink(),ha=this.state.showPostPreview?null:this._getAttribution();return (u.createElement('div',null,u.createElement(i,{mentionsSource:ca,placeholder:da,ref:(function(ia){return this._inputContainer=ia;}).bind(this)}),ea,ga,ha,u.createElement(m,{attachment:fa}),this._getWarning(),u.createElement(o,{showTaggers:this._shouldShowTaggers(),taggersSource:this._getTaggersSource(),privacySelector:this.props.privacySelector,onCancel:this.props.onCancel,onPost:this.props.onPost,showActivityNUX:this.props.showDoingNUX,taggersConfig:this.props.taggersConfig,postButtonLabel:this.props.postButtonLabel})));},_shouldShowTaggers:function(){return (this.context.gks.gkOsricTaggers&&this.props.activeAudience!==n.GROUP&&this.props.activeAudience!==n.MESSAGE&&this.props.sharerType!==t.PAGE_VIEWER);},_getTaggersSource:function(){var ba={},ca=this.props.dataSources;ba[k.PEOPLE]=ca.getSource(q.TYPES.PERSON);ba[k.LOCATION]=ca.getSource(q.TYPES.PLACE);ba[k.ACTIVITY]=ca.getSource(q.TYPES.ACTION);return ba;},_getTaggerData:function(ba){return this.props.taggersData?this.props.taggersData[ba]:null;},_getAttribution:function(){var ba=this.props.attribution;if(!ba||!ba.name||this.props.activeAudience===n.MESSAGE)return u.createElement('noscript',null);return (u.createElement(l,{onRemove:this.props.onRemoveAttribution,name:ba.name}));},_getWarning:function(){if(!this.props.publicityWarning)return u.createElement('noscript',null);if(this.props.subtleWarning){return (u.createElement(s,{warning:this.props.publicityWarning}));}else return (u.createElement(v,{className:"_2nt0",size:'small'},u.createElement('span',{dangerouslySetInnerHTML:this.props.publicityWarning})));}});f.exports=aa;},null);
__d('ReactShareDialogComposerStatusAttachmentContainer.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactShareDialogComposerActions','ReactShareDialogComposerStore','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachment.react','ShareDialogDataSources','Arbiter','React','ReactDOM','containsNode','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=r.PropTypes,w=r.createClass({displayName:'ReactShareDialogComposerStatusAttachmentContainer',_ogSubscription:Object,mixins:[h(j,m)],propTypes:{activeAudience:n.propType,privacySelector:v.instanceOf(HTMLElement).isRequired,attachment:v.object,dataSources:v.instanceOf(p).isRequired,onCancel:v.func,onPost:v.func,publicityWarning:v.object,showDoingNUX:v.bool,via:v.object,useCheckinBranding:v.bool},getDefaultProps:function(){return {onCancel:u,onPost:u};},componentWillMount:function(){this._ogSubscription=q.subscribe('composer/ogCustomIconSelected',(function(event,x){if(!t(s.findDOMNode(this.refs.shareBody),x.triggerElement))return;var y=j.getTaggerData(this.context.composerID,k.ACTIVITY)||{};y.actionIconID=x.icon_id;i.setTaggerData(this.context.composerID,k.ACTIVITY,y);}).bind(this));},componentWillUnmount:function(){if(this._ogSubscription){var x=this._ogSubscription;x.unsubscribe&&x.unsubscribe();this._ogSubscription=null;}},statics:{beforeCalculateInitialState:function(x,y){var z=y.via;if(z&&z.name)l.setAttribution(x,z);},calculateState:function(x,y){var z=j.getTaggerData(x,k.ACTIVITY);return {taggersData:j.getTaggersData(x),attribution:m.getAttribution(x),actionIconID:z?z.actionIconID:null};}},render:function(){return (r.createElement(o,babelHelpers._extends({ref:'shareBody'},this.props,this.state,{onRemoveAttribution:this._onRemoveAttribution})));},_onRemoveAttribution:function(){l.setAttribution(this.context.composerID,null);}});f.exports=w;},null);
__d('ReactShareDialogComposerStatusEagerAttachment.react',['ReactComposerAttachmentType','ReactComposerAttachmentBodyMixin','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachmentContainer.react','ShareDialogDataSources','React','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'ReactShareDialogComposerStatusEagerAttachment',mixins:[i()],propTypes:{selected:o.bool,subtleWarning:o.bool,activeAudience:j.propType,privacySelector:o.instanceOf(HTMLElement).isRequired,attachment:o.object,dataSources:o.instanceOf(l),onCancel:o.func,onPost:o.func,publicityWarning:o.object,showDoingNUX:o.bool,via:o.object,useCheckinBranding:o.bool,taggersConfig:o.object.isRequired},getDefaultProps:function(){return {selected:true,onCancel:n,onPost:n};},statics:{attachmentID:h.STATUS},renderX:function(){return m.createElement(k,this.props);}});f.exports=p;},null);
__d('ReactShareDialogComposer.react',['ReactComposer.react','ReactComposerBody.react','ShareDialogAudienceTypes','ReactShareDialogComposerStatusEagerAttachment.react','ShareDialogDataSources','SharerType','React','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=n.PropTypes,q=n.createClass({displayName:'ReactShareDialogComposer',propTypes:{experiments:p.shape({subtleWarning:p.bool}),postId:p.string,shareType:p.string,activeAudience:j.propType,privacySelector:p.instanceOf(HTMLElement).isRequired,userId:p.string.isRequired,attachment:p.object,dataSources:p.instanceOf(l),onCancel:p.func,onPost:p.func,postButtonLabel:p.string,publicityWarning:p.object,sharerType:p.oneOf([m.ALL_MODES,m.MESSAGE_ONLY,m.PAGE_ONLY,m.PAGE_VIEWER]),showDoingNUX:p.bool,via:p.object,useCheckinBranding:p.bool,taggersConfig:p.object.isRequired},getDefaultProps:function(){return {onCancel:o,onPost:o,sharerType:m.ALL_MODES,status:{type:'composing'}};},_onCancel:function(r){var s=this.props.onCancel;s&&s(r);},_onPost:function(r){var s=this.props.onPost;s&&s(r);},render:function(){return (n.createElement(h,{hideBorders:true,loggingConfig:this.props.loggingConfig},n.createElement(i,null,n.createElement(k,babelHelpers._extends({},this.props,{activeAudience:this.props.activeAudience,privacySelector:this.props.privacySelector,attachment:this.props.attachment,dataSources:this.props.dataSources,onCancel:this._onCancel,onPost:this._onPost,publicityWarning:this.props.publicityWarning,showDoingNUX:this.props.showDoingNUX,via:this.props.via,useCheckinBranding:this.props.useCheckinBranding,sharerType:this.props.sharerType,subtleWarning:this.props.experiments&&this.props.experiments.subtleWarning,taggersConfig:this.props.taggersConfig,postButtonLabel:this.props.postButtonLabel})))));}});f.exports=q;},null);
__d('ShareDialogAudienceHeader.react',['ShareDialogAudience.react','ShareDialogAudienceSelector.react','ShareDialogDataSources','SharerType','React','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=h.TYPES,p=j.TYPES,q=l.PropTypes,r=l.createClass({displayName:'ShareDialogAudienceHeader',propTypes:{activeAudience:function(s){if(!o.isValid(s.activeAudience))return new Error('The active audience is invalid.');},dataSources:q.instanceOf(j),onAudienceSelect:q.func},getDefaultProps:function(){return {onAudienceSelect:n};},render:function(){var s=this.props.dataSources,t=this.props.activeAudience,u=[];if(this.props.sharerType===k.MESSAGE_ONLY){u.push(o.MESSAGE);}else if(this.props.sharerType===k.PAGE_ONLY){u.push(o.PAGE);}else if(this.props.sharerType===k.PAGE_VIEWER){u.push(o.OWN);}else{u.push(o.OWN);if(s.getSource(p.PERSON_WALL))u.push(o.PERSON);if(s.getSource(p.GROUP))u.push(o.GROUP);if(s.getSource(p.PAGE))u.push(o.PAGE);if(s.getSource(p.MESSAGE))u.push(o.MESSAGE);}var v="__0k"+(this.props.activeAudience===o.OWN?' '+"_47xt":'')+(this.props.activeAudience===o.PERSON?' '+"_47xu":'')+(this.props.activeAudience===o.GROUP?' '+"_47xv":'')+(this.props.activeAudience===o.PAGE?' '+"_47xw":'')+(this.props.activeAudience===o.MESSAGE?' '+"_47xx":'');return (l.createElement('div',{className:v},l.createElement(i,{allowedAudiences:u,activeAudience:t,onAudienceSelect:this.props.onAudienceSelect})));}});f.exports=r;},null);
__d('ReactSharer.react',['ReactShareDialogComposer.react','ShareDialogAudienceHeader.react','ShareDialogAudienceTypes','ShareDialogAudience.react','ShareDialogDataSources','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'ReactSharer',propTypes:{activeAudience:j.propType,dataSources:n.instanceOf(l),privacySelector:n.instanceOf(HTMLElement).isRequired,userId:n.string.isRequired,attachment:n.object,gks:n.shape({showGroupThreads:n.bool,subtleWarning:n.bool}),messageTargets:n.array,onCancel:n.func,onChangeAudienceTargets:n.func,onClearAudienceTargets:n.func,onTargetSelect:n.func,onPost:n.func,postButtonLabel:n.string,taggersConfig:n.object.isRequired},render:function(){return (m.createElement('div',null,m.createElement(i,{key:'title',activeAudience:this.props.activeAudience,dataSources:this.props.dataSources,onAudienceSelect:this.props.onTargetSelect}),m.createElement(k,{key:'audience',userId:this.props.userId,activeAudience:this.props.activeAudience,messageTargets:this.props.messageTargets,dataSources:this.props.dataSources,onChange:this.props.onChangeAudienceTargets,onClear:this.props.onClearAudienceTargets,showGroupThreads:this.props.gks&&this.props.gks.showGroupThreads}),m.createElement(h,this.props)));}});f.exports=o;},null);
__d('ReactSharerContainer.react',['ReactComposerAudienceStore','ReactComposerContextMixin','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactSharer.react','ReactShareDialogComposerActions','ReactShareDialogComposerStore','ShareDialogAudienceTypes','SharerType','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=t.createClass({displayName:'ReactSharerContainer',mixins:[s,i,j(p)],statics:{beforeCalculateInitialState:function(v,w){var x=q.OWN;if(w.sharerType===r.MESSAGE_ONLY){x=q.MESSAGE;}else if(w.sharerType===r.PAGE_ONLY)x=q.PAGE;o.setTarget(v,x);o.setTargetInfo(v,{userId:w.userId});},calculateState:function(v,w){var x=p.getTargetInfo(v),y=x.audienceTargets,z=x.userId;return {activeAudience:p.getTarget(v),audienceTargets:y,userId:z};}},render:function(){return (t.createElement(n,babelHelpers._extends({},this.props,this.state,{onCancel:this._onCancel,onChangeAudienceTargets:this._onChangeAudienceTargets,onClearAudienceTargets:this._onClearAudienceTargets,onPost:this._onPost,onTargetSelect:this._onTargetSelect})));},_getStatefulResponse:function(){var v=this.props.contextConfig.composerID,w=l.getTaggersData(v),x=h.getAudience(v),y=k.getMessage(v),z=p.getTarget(v),aa=p.getTargetInfo(v),ba=p.getAttribution(v),ca=aa.audienceTargets?aa.audienceTargets:[],da=w[m.PEOPLE],ea=w[m.LOCATION],fa=w[m.ACTIVITY],ga=da.map(function(la){return la.getUniqueID();}),ha=null,ia=null;if(fa.object){var ja=fa.object.getUniqueID(),ka=fa.object.getTitle();if(!ja||ja===ka){ia=ka;}else ha=ja;}return {actorId:aa.userId,audienceType:z,audienceTargets:ca,appId:this.props.appId,attributionId:ba?ba.id:null,internalExtra:this.props.internalExtra,message:y,messageTags:this.props.messageTags,ownerId:this.props.ownerId,privacy:x,postId:this.props.postId,sharedAdId:this.props.sharedAdId,shareType:this.props.shareType,source:'osbach-sharer',taggedActionId:fa.action?fa.action.getUniqueID():null,taggedActionIconId:fa.actionIconId,taggedObjectId:ha,taggedObjectStr:ia,taggedPeople:ga,taggedPlace:ea&&ea.place?ea.place.getUniqueID():null};},_onTargetSelect:function(v){o.setTarget(this.context.composerID,v);o.setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId});},_onCancel:function(v){this.props.onCancel&&this.props.onCancel(this._getStatefulResponse(),v);},_onChangeAudienceTargets:function(v){if(v.length===0)return;var w=v[0],x=this.state.activeAudience===q.PAGE?{audienceTargets:[w.pageId],userId:w.actorId}:{audienceTargets:v,userId:this.props.userId};o.setTargetInfo(this.context.composerID,x);},_onClearAudienceTargets:function(){o.setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId});},_onPost:function(v){this.props.onPost(this._getStatefulResponse(),v);}});f.exports=u;},null);
__d('ReactSharerRoot.react',['ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactSharerContainer.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l.createClass({displayName:'ReactSharerRoot',mixins:[k,i],propTypes:{contextConfig:h.isRequired},render:function(){return l.createElement(j,this.props);}});f.exports=m;},null);
__d('ReactSharerInit',['ReactSharerRoot.react','ShareDialogAudienceTypes','ShareDialogDataSources','ComposerEntryPointRef','DOM','Sharer','React','ReactDOM','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r={init:function(s,t){s=this.getPropsFromAsyncResponse(s);q=t;o.render(n.createElement(h,babelHelpers._extends({contextConfig:{actorID:s.userId,composerID:p(),composerType:k.SHARE_BUTTON_PLUGIN,gks:s.gks,targetID:s.userId},onCancel:this._onCancel,onPost:this._onPost},s)),q);},_onCancel:function(s,t){m.close();t.preventDefault();},_onPost:function(s,t){if(s.audienceType===i.OWN){l.appendContent(q,l.create('input',{name:'privacyx',type:'hidden',value:s.privacy}));}else if(s.audienceType===i.PERSON){l.appendContent(q,l.create('input',{name:'friendTarget',type:'hidden',value:s.audienceTargets.toString()}));}else if(s.audienceType===i.MESSAGE){l.appendContent(q,l.create('input',{name:'messageTarget',type:'hidden',value:s.audienceTargets.toString()}));}else if(s.audienceType===i.GROUP){l.appendContent(q,l.create('input',{name:'groupTarget',type:'hidden',value:s.audienceTargets.toString()}));}else if(s.audienceType===i.PAGE)l.appendContent(q,[l.create('input',{name:'pageTarget',type:'hidden',value:s.audienceTargets.toString()}),l.create('input',{name:'av',type:'hidden',value:s.actorId})]);if(s.taggedPeople){var u=0;s.taggedPeople.forEach(function(v){l.appendContent(q,l.create('input',{name:'composertags_with['+u+']',type:'hidden',value:v}));u++;});}l.appendContent(q,[l.create('input',{name:'xhpc_message_text',type:'hidden',value:s.message}),l.create('input',{name:'xhpc_message',type:'hidden',value:s.message}),l.create('input',{name:'composertags_place',type:'hidden',value:s.taggedPlace}),l.create('input',{name:'action_type_id[]',type:'hidden',value:s.taggedActionId}),l.create('input',{name:'icon_id',type:'hidden',value:s.taggedActionIconId}),l.create('input',{name:'object_id[]',type:'hidden',value:s.taggedObjectId}),l.create('input',{name:'object_str[]',type:'hidden',value:s.taggedObjectStr}),l.create('input',{name:'is_react',type:'hidden',value:'true'})]);},getPropsFromAsyncResponse:function(s){var t=s.sources,u=babelHelpers.objectWithoutProperties(s,['sources']),v=t.person,w=t.personTag,x=t.personWall,y=t.group,z=t.page,aa=t.mentions,ba=t.place,ca=t.feeling,da=t.action,ea=t.object,fa=new j().addSource(j.TYPES.ACTION,da).addSource(j.TYPES.GROUP,y).addSource(j.TYPES.FEELING,ca).addSource(j.TYPES.MENTIONS,aa).addSource(j.TYPES.MESSAGE,v).addSource(j.TYPES.OBJECT,ea).addSource(j.TYPES.PAGE,z).addSource(j.TYPES.PERSON,w).addSource(j.TYPES.PERSON_WALL,x).addSource(j.TYPES.PLACE,ba);return babelHelpers._extends({dataSources:fa},u);}};f.exports=r;},null);