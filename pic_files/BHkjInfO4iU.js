/*!CK:2216174573!*//*1445226327,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["yvsOY"]); }

__d("BoostedPostTestElements",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOSTED_POST_BUTTON_ID:"boosted_post_button_with_id",DIALOG_BOOST_BUTTON:"boost_button_in_dialog",DIALOG_UPSELL_HEADER:"boost_dialog_upsell_header",DIALOG_UPSELL_HEADER_CONTENT:"boost_dialog_upsell_header_content",TARGET_FIELD_GENDER:"boost_target_field_gender",TARGET_FIELD_COUNTRIES:"boost_target_field_countries",TARGET_FIELD_REGIONS:"boost_target_field_regions",TARGET_FIELD_CITIES:"boost_target_field_cities",TARGET_FIELD_RADIUS:"boost_target_field_radius",TARGET_FIELD_AGE_MAX:"boost_target_field_age_max",TARGET_FIELD_AGE_MIN:"boost_target_field_age_min",TARGET_FIELD_INTERESTS:"boosted_target_field_interests",TARGETING_DIALOG:"targeting_dialog"};},null,{});
__d("BoostedPostUpdateStatusActions",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADD_BUDGET:"add_budget",ADD_PENDING_FUNDING_SOURCE:"add_pending_funding_source",CREATE:"create",SET_BUDGET:"set_budget",CLEAR_BUDGET:"clear_budget",DELETE:"delete",NONE:"",RESUME:"resume",RETARGET:"retarget",STOP:"stop",RECREATE:"recreate",APPEAL:"appeal"};},null,{});
__d("ReactComposerTaggerType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CAMERA:"CAMERA",PEOPLE:"PEOPLE",OG:"OG",LOCATION:"LOCATION",ACTIVITY:"ACTIVITY",BACKDATE:"BACKDATE",TARGETING:"TARGETING",SPONSOR:"SPONSOR",VAULTPHOTO:"VAULTPHOTO"};},null,{});
__d('BoostedComponentSafeMixin',['BoostedPostEventType','BoostedPostLogging','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.PropTypes,l={propTypes:{displaySection:k.string.isRequired,userID:k.string,pageID:k.string,postID:k.string},getUserID:function(){if(this.props.userID)return this.props.userID;return this.state.config.getContextStore().getUserID();},getPageID:function(){if(this.props.pageID)return this.props.pageID;return this.state.config.getContextStore().getPageID();},getPostID:function(){if(this.props.postID)return this.props.postID;return this.state.config.getContextStore().getPostID();},render:function(){try{return this._render();}catch(m){i.log(h.RENDER_FAILED,{user_id:this.getUserID(),page_id:this.getPageID(),post_id:this.getPostID(),display_section:this.props.displaySection,error_message:m.message,error_trace:m.stack});if(typeof this._renderError==='function')return this._renderError();return j.createElement('div',null);}}};f.exports=l;},null);
__d('BoostedPostApiAppealRequestDialog.react',['BoostedComponentConstants','BoostedPostStrings','LayerFadeOnHide','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogConfirmButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=k.PropTypes,t=k.createClass({displayName:'BoostedPostApiAppealRequestDialog',mixins:[l],propTypes:{causalElementRef:s.func.isRequired,onConfirm:s.func.isRequired},_onConfirm:function(){this.setState({dialogShown:false});this.props.onConfirm();},renderLayers:function(){if(this.state!=null&&!this.state.dialogShown)return {};return {dialog:k.createElement(m,{causalElementRef:this.props.causalElementRef,shown:true,behaviors:{LayerFadeOnHide:j},width:h.SMALL_DIALOG_WIDTH},k.createElement(r,null,i.APPEAL_DIALOG_TITLE),k.createElement(n,null,k.createElement('div',{className:'mbm'},i.APPEAL_WARNING_TEXT_PART_1),k.createElement('div',null,i.APPEAL_WARNING_TEXT_PART_2)),k.createElement(q,null,k.createElement(o,{action:'cancel',use:'default',label:i.CANCEL_BUTTON_LABEL}),k.createElement(p,{action:'confirm',use:'confirm',label:i.REQUEST_REVIEW_BUTTON_LABEL,onClick:this._onConfirm})))};},render:function(){return (k.createElement('div',null));}});f.exports=t;},null);
__d('BoostedPostDialogMixin',['AdsAdblockWarning.react','BoostedComponentDialogMixin','BoostedComponentIntegrityWarningBox.react','BoostedComponentDialogSubmissionStates','BoostedComponentExperiment','BoostedPostApiAppealRequestDialog.react','BoostedPostUpdateStatusActions','DOM','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r={mixins:[i],getBoostedPostDialogHeader:function(){return (p.createElement('div',null,p.createElement(h,{margin:'0'}),this._getValidationWarning()));},_getValidationWarning:function(){var s=this._config;if(!s.getCreativeStore().getBody())return null;return (p.createElement('div',null,p.createElement(j,{canRequestAPIAppeal:this._getCanRequestAPIReview(),config:s,onReviewAPIAppealRequest:this._requestApiReview})));},_confirmAppeal:function(){this._getDialogRenderViewActions().onDialogRequestReviewConfirm();var s=this._config.getBoostedPostSpecs();s.setApiAppealReviewRequest(true);this.setState({dialogState:k.SUBMITING});this._onSubmit(n.CREATE);},_renderApiAppealReviewDialog:function(){if(!this._apiAppealReviewDialogAnchor)this._apiAppealReviewDialogAnchor=o.create('div');q.render(p.createElement(m,{causalElementRef:(function(){return this.refs[this._getWidgetRef()];}).bind(this),onConfirm:this._confirmAppeal}),this._apiAppealReviewDialogAnchor);},_requestApiReview:function(){this._getDialogRenderViewActions().onDialogRequestReviewClick();this._renderApiAppealReviewDialog();},_getCanRequestAPIReview:function(){return this._config.getExperimentStore().getExperiment(l.BOOSTED_POST_INSTANT_APPEAL);}};f.exports=r;},null);
__d("XBoostedPostDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/ajax\/boosted_post\/boosted_post_dialog\/",{page_id:{type:"Int",required:true},post_id:{type:"Int",required:true},status:{type:"Enum",required:true,enumType:1},placement:{type:"Enum",required:true,enumType:1},max_height:{type:"Int",defaultValue:500},button_id:{type:"String",defaultValue:"0"},privacy_gating_spec:{type:"String"},dialog_mode:{type:"Enum",defaultValue:1,enumType:0},__asyncDialog:{type:"Int"}});},null,{});
__d('BoostedPostWidgetMixin',['AsyncDialog','AsyncRequest','BoostedComponentAdApprovalPreTestStates','BoostedComponentConfig','BoostedComponentDialogSubmissionStates','BoostedComponentSafeMixin','BoostedPostConstants','BoostedPostDialogMixin','XBoostedPostDialogController','BoostedPostEventType','BoostedPostLogging','React','Vector','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=s.PropTypes,w={mixins:[m,o],propTypes:{configData:v.object.isRequired,placement:v.string.isRequired},getInitialState:function(){this._config=new k(this.props.configData);return {dialogState:l.ENABLED,adApprovalPreTestState:j.NO_WARNING};},componentDidUpdate:function(){this.renderDialog();},_renderDialog:function(x){var y=Date.now();if(this.useReactDialog()){this.onUpsellButtonClick(x);return;}h.send(new i(this._getDialogURI()).setHandler((function(){var z=this._config,aa=z.getContextStore();r.log(q.CLIENT_DIALOG_TTI,{page_id:aa.getPageID(),post_id:aa.getPostID(),placement:aa.getPlacement(),boosting_status:z.getAdStatusStore().getAdStatus(),processing_time:Date.now()-y});}).bind(this)),u);x.preventDefault();},_getWidgetRef:function(){return 'boostedPostButton';},_getDialogURI:function(){var x=this._config,y=x.getContextStore();return p.getURIBuilder().setInt('page_id',y.getPageID()).setInt('post_id',y.getPostID()).setEnum('status',x.getAdStatusStore().getAdStatus()).setEnum('placement',this.props.placement).setString('button_id',this._config.getDialogUIStore().getUpsellDivID()).setInt('max_height',this._getDialogColumnMaxHeight()).getURI();},_getDialogColumnMaxHeight:function(){var x=Math.max(t.getViewportDimensions().y-225,n.DIALOG_MIN_HEIGHT);return Math.min(x,n.DIALOG_MAX_HEIGHT);}};f.exports=w;},null);
__d('BoostedPostUnavailableButton.react',['React','TooltipLink.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'BoostedPostUnavailableButton',propTypes:{reason:l.string.isRequired},render:function(){return (h.createElement(i,{className:"_2ajm",tooltip:this.props.reason,position:'above',alignH:'right'},k._("Boost Unavailable")));}});f.exports=m;},null);
__d('ReactComposerPhotoActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({PHOTO_RECOGNITION_STARTED:null,PHOTO_RECOGNITION_FINISHED:null,PHOTO_RECOGNITION_ALL_FINISHED:null,PHOTO_ADD_FACEBOX:null,PHOTO_TAG_FACEBOX:null,PHOTO_UNTAG_FACEBOX:null,PHOTO_REMOVE:null,PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:null,PHOTO_EDIT_STARTED:null,PHOTO_EDIT_FINISHED:null,PHOTO_SET_BEING_TAGGED:null});},null);
__d('ReactComposerPhotoUploadActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({PHOTO_UPLOAD_INPUT_CLICKED:null,PHOTO_UPLOAD_ENQUEUED:null,PHOTO_UPLOAD_RESIZE_STARTED:null,PHOTO_UPLOAD_RESIZE_PROGRESS:null,PHOTO_UPLOAD_RESIZE_DONE:null,PHOTO_UPLOAD_RESIZE_FAILED:null,PHOTO_UPLOAD_RESIZER_UNAVAILABLE:null,PHOTO_UPLOAD_UPLOADING:null,PHOTO_UPLOAD_PROGRESS:null,PHOTO_UPLOAD_DONE:null,PHOTO_UPLOAD_FAILED:null,PHOTO_UPLOAD_REMOVE:null,PHOTO_UPLOAD_MOVED:null,PHOTO_UPLOAD_RETRY:null,PHOTOS_SELECT:null});},null);
__d('ReactComposerPhotoStore',['ReactComposerPhotoActionType','ReactComposerPhotoUploadActionType','ReactComposerStoreBase','immutable'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m,n=k.Record({id:null,uploadID:null,thumbSrc:null,isRecognizingFaceboxes:false,faceboxes:k.Map()}),o=k.Record({id:null,photoID:null,x:null,y:null,top:null,left:null,width:null,height:null,croppedURI:null,taggedSubjectID:null,taggedValue:null,isMagicTag:false});l=babelHelpers.inherits(p,j);m=l&&l.prototype;function p(){'use strict';var q;m.constructor.call(this,function(){return {photos:k.Map(),photoBeingTagged:null};},function(r){switch(r.type){case i.PHOTO_UPLOAD_DONE:q&&q.$ReactComposerPhotoStore1(r);break;case h.PHOTO_RECOGNITION_STARTED:q&&q.$ReactComposerPhotoStore2(r);break;case h.PHOTO_RECOGNITION_FINISHED:q&&q.$ReactComposerPhotoStore3(r);break;case h.PHOTO_RECOGNITION_ALL_FINISHED:q&&q.$ReactComposerPhotoStore4(r);break;case h.PHOTO_ADD_FACEBOX:q&&q.$ReactComposerPhotoStore5(r);break;case h.PHOTO_TAG_FACEBOX:q&&q.$ReactComposerPhotoStore6(r);break;case h.PHOTO_UNTAG_FACEBOX:q&&q.$ReactComposerPhotoStore7(r);break;case h.PHOTO_REMOVE:q&&q.$ReactComposerPhotoStore8(r);break;case h.PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:q&&q.$ReactComposerPhotoStore9(r);break;case h.PHOTO_SET_BEING_TAGGED:q&&q.$ReactComposerPhotoStore10(r);break;default:}});q=this;}p.prototype.getPhotos=function(q){'use strict';return this.getComposerData(q).photos;};p.prototype.isLimitExceeded=function(q,r){'use strict';return this.getPhotos(q).size>r;};p.prototype.getPhoto=function(q,r){'use strict';return this.getComposerData(q).photos.get(r);};p.prototype.isRecognizing=function(q){'use strict';return this.getComposerData(q).photos.some(function(r){return r.isRecognizingFaceboxes;});};p.prototype.getIsSubjectPhotoTagged=function(q,r){'use strict';var s=this.getComposerData(q).photos;return s.some(function(t){return t.faceboxes.some(function(u){return (u.taggedSubjectID===r);});});};p.prototype.getAllTaggedFaceboxes=function(q){'use strict';var r=this.getPhotos(q),s=[];r.forEach(function(t){s=s.concat(t.faceboxes.toArray());});return s.filter(function(t){return !!t.get('taggedSubjectID');});};p.prototype.getPhotoBeingTagged=function(q){'use strict';return this.getComposerData(q).photoBeingTagged;};p.prototype.$ReactComposerPhotoStore1=function(q){'use strict';var r=this.validateAction(q,['composerID','uploadID','photoID','thumbSrc']),s=r[0],t=r[1],u=r[2],v=r[3],w=this.getComposerData(s);w.photos=w.photos.set(u,new n({id:u,uploadID:t,thumbSrc:v}));this.emitChange(s);};p.prototype.$ReactComposerPhotoStore2=function(q){'use strict';var r=this.validateAction(q,['composerID','photoID']),s=r[0],t=r[1],u=this.getComposerData(s);u.photos=u.photos.update(t,function(v){return (v.set('isRecognizingFaceboxes',true));});this.emitChange(s);};p.prototype.$ReactComposerPhotoStore3=function(q){'use strict';var r=this.validateAction(q,['composerID','photoID']),s=r[0],t=r[1],u=this.getComposerData(s);u.photos=u.photos.update(t,function(v){return (v.set('isRecognizingFaceboxes',false));});this.emitChange(s);};p.prototype.$ReactComposerPhotoStore4=function(q){'use strict';var r=this.validateAction(q,['composerID','photos']),s=r[0],t=r[1],u=this.getComposerData(s);u.photos=u.photos.map(function(v){return t.indexOf(v.id)!==-1?v.set('isRecognizingFaceboxes',false):v;});this.emitChange(s);};p.prototype.$ReactComposerPhotoStore5=function(q){'use strict';var r=this.validateAction(q,['composerID','photoID','facebox']),s=r[0],t=r[1],u=r[2],v=this.getComposerData(s),w=u.bestRecognition,x=null,y=null;if(w){x=w.subjectID;y=w.value;}v.photos=v.photos.update(t,function(z){return (z.update('faceboxes',function(aa){return (aa.set(u.id,new o({id:u.id,photoID:t,x:u.x,y:u.y,top:u.top,left:u.left,width:u.width,height:u.height,croppedURI:u.croppedURI,taggedSubjectID:x,taggedValue:y,isMagicTag:!!x})));}));});this.emitChange(s);};p.prototype.$ReactComposerPhotoStore6=function(q){'use strict';var r=this.validateAction(q,['composerID','photoID','faceboxID','subjectID','value']),s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=this.getComposerData(s);x.photos=x.photos.update(t,function(y){return (y.update('faceboxes',function(z){return (z.update(u,function(aa){return aa.withMutations(function(ba){return ba.set('taggedSubjectID',v).set('taggedValue',w).set('isMagicTag',false);});}));}));});this.emitChange(s);};p.prototype.$ReactComposerPhotoStore7=function(q){'use strict';var r=this.validateAction(q,['composerID','photoID','faceboxID']),s=r[0],t=r[1],u=r[2],v=this.getComposerData(s);v.photos=v.photos.update(t,function(w){return (w.update('faceboxes',function(x){return (x.update(u,function(y){return y.withMutations(function(z){return z.remove('taggedSubjectID').remove('taggedValue').set('isMagicTag',false);});}));}));});this.emitChange(s);};p.prototype.$ReactComposerPhotoStore8=function(q){'use strict';var r=this.validateAction(q,['composerID','photoID']),s=r[0],t=r[1],u=this.getComposerData(s);u.photos=u.photos['delete'](t);};p.prototype.$ReactComposerPhotoStore9=function(q){'use strict';var r=this.validateAction(q,['composerID','subjectID']),s=r[0],t=r[1],u=this.getComposerData(s);u.photos=u.photos.map(function(v){return (v.update('faceboxes',function(w){return (w.map(function(x){if(x.taggedSubjectID!==t)return x;return x.withMutations(function(y){return y.remove('taggedSubjectID').remove('taggedValue').set('isMagicTag',false);});}));}));});this.emitChange(s);};p.prototype.$ReactComposerPhotoStore10=function(q){'use strict';var r=this.validateAction(q,['composerID','photoID']),s=r[0],t=r[1],u=this.getComposerData(s);u.photoBeingTagged=t;this.emitChange(s);};f.exports=new p();},null);
__d('ReactComposerTaggerActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_SELECTED_TAGGER:null,SET_TAGGERS_SOURCE:null,SET_TAGGER_SOURCE:null,SET_TAGGER_DATA:null});},null);
__d('ReactComposerTaggerStore',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerDispatcher','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerPhotoUploadActionType','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','immutable','SearchableEntry','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;t=babelHelpers.inherits(v,n);u=t&&t.prototype;function v(){'use strict';var w;u.constructor.call(this,function(){var x={};x[p.PEOPLE]=[];x[p.LOCATION]={};x[p.BACKDATE]={};x[p.ACTIVITY]={};x[p.TARGETING]={};x[p.SPONSOR]=[];return {$ReactComposerTaggerStore1:q.Set(),autoFocusOnSelectedTagger:true,selectedTagger:null,taggersData:x,taggersSource:{}};},function(x){switch(x.type){case o.SET_SELECTED_TAGGER:w&&w.$ReactComposerTaggerStore2(x);break;case o.SET_TAGGERS_SOURCE:w&&w.$ReactComposerTaggerStore3(x);break;case o.SET_TAGGER_SOURCE:w&&w.$ReactComposerTaggerStore4(x);break;case o.SET_TAGGER_DATA:w&&w.$ReactComposerTaggerStore5(x);break;case k.PHOTO_ADD_FACEBOX:w&&w.$ReactComposerTaggerStore6(x);break;case k.PHOTO_TAG_FACEBOX:w&&w.$ReactComposerTaggerStore7(x);break;case k.PHOTO_UNTAG_FACEBOX:j.waitFor([l.getDispatchToken()]);w&&w.$ReactComposerTaggerStore8(x);break;case k.PHOTO_REMOVE:j.waitFor([l.getDispatchToken()]);w&&w.$ReactComposerTaggerStore9(x);break;case m.PHOTO_UPLOAD_DONE:w&&w.$ReactComposerTaggerStore10(x);break;}});w=this;}v.prototype.hasData=function(w,x){'use strict';var y=this.getTaggerData(w,x);if(y==null)return false;switch(x){case p.PEOPLE:case p.SPONSOR:return y.length>0;case p.LOCATION:return !!y.place;case p.BACKDATE:return !!y.year;case p.ACTIVITY:return !!y.action&&!!y.object;case p.TARGETING:return !s(y);default:throw new Error(x+" is an unhandled tagger type in "+"ReactComposerTaggerStore.hasData");}};v.prototype.areAllTaggersEmpty=function(w){'use strict';var x=this.getTaggersData(w);for(var y in x)if(this.hasData(w,y))return false;return true;};v.prototype.getSelectedTagger=function(w){'use strict';return this.getComposerData(w).selectedTagger;};v.prototype.getAutoFocusOnSelectedTagger=function(w){'use strict';return this.getComposerData(w).autoFocusOnSelectedTagger;};v.prototype.getTaggerSource=function(w,x){'use strict';return this.getComposerData(w).taggersSource[x];};v.prototype.getTaggerData=function(w,x){'use strict';return this.getComposerData(w).taggersData[x];};v.prototype.getTaggersData=function(w){'use strict';return this.getComposerData(w).taggersData;};v.prototype.$ReactComposerTaggerStore2=function(w){'use strict';var x=this.getComposerData(w.composerID);if(x.selectedTagger===w.taggerID&&!w.disableToggle){x.selectedTagger=null;}else x.selectedTagger=w.taggerID;x.autoFocusOnSelectedTagger=w.autoFocus;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore4=function(w){'use strict';var x=this.getComposerData(w.composerID);x.taggersSource[w.taggerID]=w.taggerSource;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore3=function(w){'use strict';var x=this.getComposerData(w.composerID);x.taggersSource=w.taggersSource;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore5=function(w){'use strict';var x=this.getComposerData(w.composerID),y=Array.isArray(w.taggerData)?w.taggerData.slice():Object.assign({},w.taggerData);x.taggersData[w.taggerID]=y;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore10=function(w){'use strict';var x=this.getComposerData(w.composerID),y=h.getIsAttachmentSelected(w.composerID,i.MEDIA);if(x.selectedTagger===null)if(w.mediaLocation!=null){x.selectedTagger=p.LOCATION;x.autoFocusOnSelectedTagger=true;}else if(y){x.selectedTagger=p.PEOPLE;x.autoFocusOnSelectedTagger=false;}var z=Object.assign({mediaLocation:w.mediaLocation},x.taggersData[p.LOCATION]);x.taggersData[p.LOCATION]=z;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore6=function(w){'use strict';var x=this.validateAction(w,['composerID','facebox']),y=x[0],z=x[1],aa=z.bestRecognition;if(aa)this.$ReactComposerTaggerStore11(y,aa.subjectID,aa.value);};v.prototype.$ReactComposerTaggerStore7=function(w){'use strict';var x=this.validateAction(w,['composerID','subjectID','value']),y=x[0],z=x[1],aa=x[2];this.$ReactComposerTaggerStore11(y,z,aa);};v.prototype.$ReactComposerTaggerStore8=function(w){'use strict';var x=this.validateAction(w,['composerID','subjectID']),y=x[0],z=x[1];if(!l.getIsSubjectPhotoTagged(y,z))this.$ReactComposerTaggerStore12(y,z);};v.prototype.$ReactComposerTaggerStore9=function(w){'use strict';var x=this.validateAction(w,'composerID');this.getComposerData(x).$ReactComposerTaggerStore1.forEach((function(y){if(!l.getIsSubjectPhotoTagged(x,y))this.$ReactComposerTaggerStore12(x,y);}).bind(this));};v.prototype.$ReactComposerTaggerStore11=function(w,x,y){'use strict';var z=new r({uniqueID:x,title:y,auxiliaryData:{isFacebox:true}}),aa=this.getComposerData(w),ba=aa.taggersData[p.PEOPLE],ca=ba.some(function(da){return da.getUniqueID()===z.getUniqueID();});aa.$ReactComposerTaggerStore1=aa.$ReactComposerTaggerStore1.add(x);if(!ca)aa.taggersData[p.PEOPLE]=ba.concat(z);this.emitChange(w);};v.prototype.$ReactComposerTaggerStore12=function(w,x){'use strict';var y=this.getComposerData(w);y.taggersData[p.PEOPLE]=y.taggersData[p.PEOPLE].filter(function(z){return z.getUniqueID()!==x;});y.$ReactComposerTaggerStore1=y.$ReactComposerTaggerStore1['delete'](x);this.emitChange(w);};f.exports=new v();},null);
__d('CountryCodeMap',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={US:'United States',CA:'Canada',GB:'United Kingdom',AR:'Argentina',AU:'Australia',AT:'Austria',BE:'Belgium',BR:'Brazil',CL:'Chile',CN:'China',CO:'Colombia',HR:'Croatia',DK:'Denmark',DO:'Dominican Republic',EG:'Egypt',FI:'Finland',FR:'France',DE:'Germany',GR:'Greece',HK:'Hong Kong',IN:'India',ID:'Indonesia',IE:'Ireland',IL:'Israel',IT:'Italy',JP:'Japan',JO:'Jordan',KW:'Kuwait',LB:'Lebanon',MY:'Malaysia',MX:'Mexico',NL:'Netherlands',NZ:'New Zealand',NG:'Nigeria',NO:'Norway',PK:'Pakistan',PA:'Panama',PE:'Peru',PH:'Philippines',PL:'Poland',RU:'Russia',SA:'Saudi Arabia',RS:'Serbia',SG:'Singapore',ZA:'South Africa',KR:'South Korea',ES:'Spain',SE:'Sweden',CH:'Switzerland',TW:'Taiwan',TH:'Thailand',TR:'Turkey',AE:'United Arab Emirates',VE:'Venezuela',PT:'Portugal',LU:'Luxembourg',BG:'Bulgaria',CZ:'Czech Republic',SI:'Slovenia',IS:'Iceland',SK:'Slovakia',LT:'Lithuania',TT:'Trinidad and Tobago',BD:'Bangladesh',LK:'Sri Lanka',KE:'Kenya',HU:'Hungary',MA:'Morocco',CY:'Cyprus',JM:'Jamaica',EC:'Ecuador',RO:'Romania',BO:'Bolivia',GT:'Guatemala',CR:'Costa Rica',QA:'Qatar',SV:'El Salvador',HN:'Honduras',NI:'Nicaragua',PY:'Paraguay',UY:'Uruguay',PR:'Puerto Rico',BA:'Bosnia and Herzegovina',PS:'Palestine',TN:'Tunisia',BH:'Bahrain',VN:'Vietnam',GH:'Ghana',MU:'Mauritius',UA:'Ukraine',MT:'Malta',BS:'The Bahamas',MV:'Maldives',OM:'Oman',MK:'Macedonia',LV:'Latvia',EE:'Estonia',IQ:'Iraq',DZ:'Algeria',AL:'Albania',NP:'Nepal',MO:'Macau',ME:'Montenegro',SN:'Senegal',GE:'Georgia',BN:'Brunei',UG:'Uganda',GP:'Guadeloupe',BB:'Barbados',AZ:'Azerbaijan',TZ:'Tanzania',LY:'Libya',MQ:'Martinique',CM:'Cameroon',BW:'Botswana',ET:'Ethiopia',KZ:'Kazakhstan',NA:'Namibia',MG:'Madagascar',NC:'New Caledonia',MD:'Moldova',FJ:'Fiji',BY:'Belarus',JE:'Jersey',GU:'Guam',YE:'Yemen',ZM:'Zambia',IM:'Isle Of Man',HT:'Haiti',KH:'Cambodia',AW:'Aruba',PF:'French Polynesia',AF:'Afghanistan',BM:'Bermuda',GY:'Guyana',AM:'Armenia',MW:'Malawi',AG:'Antigua',RW:'Rwanda',GG:'Guernsey',GM:'The Gambia',FO:'Faroe Islands',LC:'St. Lucia',KY:'Cayman Islands',BJ:'Benin',AD:'Andorra',GD:'Grenada',VI:'US Virgin Islands',BZ:'Belize',VC:'Saint Vincent and the Grenadines',MN:'Mongolia',MZ:'Mozambique',ML:'Mali',AO:'Angola',GF:'French Guiana',UZ:'Uzbekistan',DJ:'Djibouti',BF:'Burkina Faso',MC:'Monaco',TG:'Togo',GL:'Greenland',GA:'Gabon',GI:'Gibraltar',CD:'Democratic Republic of the Congo',KG:'Kyrgyzstan',PG:'Papua New Guinea',BT:'Bhutan',KN:'Saint Kitts and Nevis',SZ:'Swaziland',LS:'Lesotho',LA:'Laos',LI:'Liechtenstein',MP:'Northern Mariana Islands',SR:'Suriname',SC:'Seychelles',VG:'British Virgin Islands',TC:'Turks and Caicos Islands',DM:'Dominica',MR:'Mauritania',AX:'Aland Islands',SM:'San Marino',SL:'Sierra Leone',NE:'Niger',CG:'Republic of the Congo',AI:'Anguilla',YT:'Mayotte',CV:'Cape Verde',GN:'Guinea',TM:'Turkmenistan',BI:'Burundi',TJ:'Tajikistan',VU:'Vanuatu',SB:'Solomon Islands',ER:'Eritrea',WS:'Samoa',AS:'American Samoa',FK:'Falkland Islands',GQ:'Equatorial Guinea',TO:'Tonga',KM:'Comoros',PW:'Palau',FM:'Federated States of Micronesia',CF:'Central African Republic',SO:'Somalia',MH:'Marshall Islands',VA:'Vatican City',TD:'Chad',KI:'Kiribati',ST:'Sao Tome and Principe',TV:'Tuvalu',NR:'Nauru',RE:'R\u00e9union',LR:'Liberia',ZW:'Zimbabwe',CI:'C\u00f4te d\'Ivoire',MM:'Myanmar'};f.exports=h;},null);
__d('PagesComposerActions',['ReactComposerDispatcher','PagesComposerActionsTypes'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={setDraft:function(k){h.dispatch({composerID:k,type:i.SET_DRAFT});},schedule:function(k,l,m){h.dispatch({composerID:k,type:i.SCHEDULE,scheduleDate:l,stopFeedDistributionDate:m});},backdate:function(k,l,m,n,o){h.dispatch({composerID:k,type:i.BACKDATE,year:l,month:m,day:n,hideFromNewsFeed:o});},setAdsPost:function(k){h.dispatch({composerID:k,type:i.SET_ADS_POST});},setBoostedPost:function(k,l){h.dispatch({composerID:k,type:i.SET_BOOSTED_POST,data:l});}};f.exports=j;},null);
__d('BoostedPostDialogButton.react',['AdsCurrencyFormatter','adsGKCheck','AdsUtils','Arbiter','BoostedComponentClientEvent','BoostedPostWidgetMixin','BoostedPostPlacementOptions','BoostedPostStatus','BoostedPostTestElements','BoostedPostUnavailableButton.react','ReactComposerTaggerStore','ReactComposerTaggerType','CountryCodeMap','DOM','DOMContainer.react','Form','intlList','Link.react','PagesComposerActions','PromotedPostConstants','React','ReactDOM','Image.react','ReactLayeredComponentMixin','SubscriptionsHandler','Tooltip','XUIAmbientNUX.react','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){'use strict';if(c.__markCompiled)c.__markCompiled();var la=ba.PropTypes,ma=ba.createClass({displayName:'BoostedPostDialogButton',_subscriptionsHandler:fa,mixins:[m,ea],propTypes:{postForm:la.object,customContent:la.object,customLinkLabelReact:la.object,onUpsellButtonClick:la.func,reactComposerID:la.string},getInitialState:function(){return {labelOverride:null};},componentWillMount:function(){this._subscriptionsHandler=new fa();var na=this._config;this._subscriptionsHandler.addSubscriptions(na.getDialogUIStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)));if(this.props.reactComposerID)r.addChangeListener((function(oa){var pa=oa.composerID;if(this.props.reactComposerID!==pa)return;var qa=r.getTaggerData(pa,s.TARGETING);if(!qa||!qa.gating){qa={};}else qa=qa.gating;this._config.getDispatcher().handleUpdateFromViewAction({actionType:l.UPDATE_PRIVACY_GATING,data:qa});}).bind(this));if(na.getContextStore().getPlacement()===n.COMPOSER){this._subscriptionsHandler.addSubscriptions(k.subscribe(aa.SET_COMPOSER_BOOST,(function(event,oa){if(this.props.reactComposerID){z.setBoostedPost(this.props.reactComposerID,oa.formData.boosted_post_config);}else{var pa=this._getPostForm();u.empty(pa);w.createHiddenInputs(oa.formData,pa);}this.setState({labelOverride:ka._("Boost set for {budget}",[ka.param('budget',oa.budgetLabel)])});}).bind(this)));this._subscriptionsHandler.addSubscriptions(k.subscribe([aa.CLEAR_COMPOSER_BOOST,'composer/reset'],(function(){if(this.props.reactComposerID){z.setBoostedPost(this.props.reactComposerID,null);}else u.empty(this._getPostForm());this.setState({labelOverride:null});}).bind(this)));}},_canShowTooltip:function(){return (this._config.getContextStore().getPlacement()!==n.EVENT_UPSELL_MENU);},componentDidMount:function(){if(this._canShowTooltip())ga.set(ca.findDOMNode(this.refs.boostedPostButton),this._getTooltipText(),'above','center');var na=this._config;if(na.getDialogUIStore().getAutoOpenDialog()&&na.getAdStatusStore().getAdStatus()==o.INACTIVE){this._getDialogRenderViewActions().onAutoOpen(this.props.placement);}else if(na.getDialogUIStore().getAutoOpenDialog())ca.findDOMNode(this).click();},componentWillUnmount:function(){this._subscriptionsHandler.release();delete this._subscriptionsHandler;},_getLinkLabel:function(){if(this.props.customLinkLabelReact){return this.props.customLinkLabelReact;}else if(this.props.customContent)return (ba.createElement(v,null,this.props.customContent));return this._config.getDialogUIStore().getUpsellLabel();},componentDidUpdate:function(){var na=this._config.getDialogUIStore().isDataReady(),oa=this._config.getAdStatusStore().getAdStatus(),pa=this._config.getContextStore().getPlacement();if(this._canShowTooltip()&&na&&!o.isBoosted(oa)&&(pa==n.NEW_TIMELINE||pa==n.COMPOSER)&&i('boosted_post_defaults_tooltip')){var qa=h.formatCurrencyWithOptionalDecimals(this._config.getAdAccountStore().getSelectedAccountCurrency(),this._config.getBudgetEstStore().getSelectedBudgetValue(),true),ra=this._config.getTargetingStore().getLocations();if(ra.length==0)return;var sa=[];for(var ta=0;ta<Math.min(ra.length,3);ta++)if(j.isObject(ra[ta])){sa.push(ra[ta].name);}else if(t[ra[ta]])sa.push(t[ra[ta]]);sa=x(sa);ga.set(ca.findDOMNode(this.refs.boostedPostButton),ka._("Boost your post for {text of total budget} to reach more people in {locations}",[ka.param('text of total budget',qa),ka.param('locations',sa)]),'above','center');}},_render:function(){var na=this._config.getAdStatusStore(),oa=this.state.labelOverride||this._config.getDialogUIStore().getUpsellLabel(),pa=this._config.getDialogUIStore().getUpsellIconURL(),qa=this._config.getContextStore().getPlacement();if(qa===n.SNOWLIFT||qa===n.AYMT_HOMEPAGE_PANEL||qa===n.EVENT_UPSELL_MENU)return (ba.createElement(y,{onClick:this._renderDialog,className:'buttonLink','data-testid':p.BOOSTED_POST_BUTTON_ID,disabled:!na.getIsEligible(),onMouseEnter:this.onMouseEnter,ref:this._getWidgetRef()},this._getLinkLabel()));return (ba.createElement(ia,{ref:this._getWidgetRef(),onClick:this._renderDialog,'data-testid':p.BOOSTED_POST_BUTTON_ID,disabled:!na.getIsEligible(),className:"_4dyi",image:pa?ba.createElement(da,{src:pa}):null,use:na.getAdStatus()===o.INACTIVE&&qa!==n.COMPOSER&&qa!==n.PAGES_CONTENT_TAB_PREVIEW?'confirm':'default',label:ba.createElement('span',{className:"_4m40"},oa),onMouseEnter:this.onMouseEnter}));},_renderError:function(){var na=ka._("Something went wrong. We are working to resolve the issue. Please try again later.");return (ba.createElement(q,{reason:na}));},renderLayers:function(){var na=this._config.getDialogUIStore();if(na.getAutoOpenDialog()||!na.getShowNUX())return {};return {dialog:ba.createElement(ha,{shown:!this.state.nuxHidden,position:'above',alignment:'right',contextRef:(function(){return this.refs[this._getWidgetRef()];}).bind(this),onCloseButtonClick:this.onCloseNUX},ka._("Boost your post to reach more of the people who matter to you. Click here to get started."))};},onCloseNUX:function(){this.setState({nuxHidden:true});},_getTooltipText:function(){switch(this._config.getAdStatusStore().getAdStatus()){case o.ACTIVE:case o.PENDING:return this._getActiveTooltipText();case o.FINISHED:case o.EXTENDABLE:return this._getFinishedBoostTooltipText();case o.REJECTED:return this._getRejectedTooltipText();default:return this._getBoostTooltipText();}},_getFinishedBoostTooltipText:function(){switch(this._config.getContextStore().getPlacement()){case n.PRODUCT_DIALOG:case n.PRODUCT_UPSELL:return ka._("View your boosted product results.");case n.EVENT_UPSELL:return ka._("View your boosted event results.");default:return ka._(["View your boosted post results.","f49ee025bccd059f199fd927fea9f1f5"]);}},_getActiveTooltipText:function(){return ka._("Add budget to reach more people.");},_getBoostTooltipText:function(){switch(this._config.getContextStore().getPlacement()){case n.PRODUCT_DIALOG:case n.PRODUCT_UPSELL:return ka._("Boost your product to reach more people");case n.EVENT_UPSELL:case n.PYMA_BOOST_EVENT:return ka._("Boost your event to reach more people");default:return ka._(["Boost your post to reach more people","91461bc29baeebb4fe5db55f1f7df428"]);}},_getRejectedTooltipText:function(){switch(this._config.getContextStore().getPlacement()){case n.PRODUCT_DIALOG:case n.PRODUCT_UPSELL:return ka._("This product can not be boosted because it doesn't meet Facebook's Ad Guidelines.");case n.EVENT_UPSELL:return ka._("This Event can not be boosted because it doesn't meet Facebook's Ad Guidelines.");default:return ka._("This post can not be boosted because it doesn't meet Facebook's Ad Guidelines.");}},_getPostForm:function(){if(this.props.postForm){return this.props.postForm;}else return u.find(document,'div.boostedPostForm');}});f.exports=ma;},null);