/*!CK:1601767168!*//*1444616144,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["o8R0o"]); }

__d("XPokeLiveController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pokes\/live\/",{poke_source:{type:"Int",required:true}});},null,{});
__d('PokeUtility',['CSS','PokeCSSConfig','XPokeLiveController','ge'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={};f.exports.shouldActOn=function(m,n){if(!m||!n)return false;if(!(m in l)){l[m]={poke_time:true};return true;}if(!(n in l[m])){l[m][n]=true;return true;}return false;};f.exports.getLivePokeURI=function(m){return j.getURIBuilder().setInt('poke_source',m).getURI();};f.exports.hideExistingLivePoke=function(m){var n=k(i.live_empty);if(n)h.hide(n);var o=k(i.live_item+m);if(o)h.hide(o);};},null);
__d('FriendBrowserNameTypeahead',['Arbiter','CSS'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this._typeahead=k;}j.prototype.enable=function(){'use strict';var k=this._typeahead.getCore(),l=k.getValue();this._onResetSubscription=this._typeahead.subscribe('reset',function(){if(l!==k.getValue()){l=k.getValue();h.inform('friend-browser/name-change');}});this._onBlurSubscription=this._typeahead.subscribe('blur',(function(){if(!k.selectedText){if(k.getValue()!=='')i.addClass(this._typeahead.core.inputWrap,'selected');if(l!==k.getValue()){l=k.getValue();h.inform('friend-browser/name-change');}}}).bind(this));};j.prototype.disable=function(){'use strict';this._onBlurSubscription.unsubscribe();this._onResetSubscription.unsubscribe();};f.exports=j;},null);
__d('InviteLanguageSelector',['$','CSS','DOM','Form','ge'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={firstLangSelect:'invite_lang[0]',secondLangSelect:'invite_lang[1]',firstLangInput:'locales[0]',secondLangInput:'locales[1]',languageSection:'language_section',defaultLang:'default_lang',setLocales:function(n){if(n=='first'){h(m.firstLangInput).value=k.getSelectValue(h(m.firstLangSelect));}else if(n=='second')h(m.secondLangInput).value=k.getSelectValue(h(m.secondLangSelect));},init:function(n){if(n>1){h('change_lang_link').onclick=this.setTwoLanguages;}else h('change_lang_link').onclick=this.setOneLanguage;h('remove_link').onclick=this.setOneLanguage;var o=l('add_another_link');if(o)o.onclick=this.setTwoLanguages;h(this.firstLangSelect).onchange=function(){m.setLocales('first');};h(this.secondLangSelect).onchange=function(){m.setLocales('second');};},addNullLanguage:function(n){var o=l(m.secondLangSelect);if(o)j.insertBefore(o.children[0],n);},setOneLanguage:function(){var n=h(m.languageSection);i.removeClass(n,'lang_init');i.removeClass(n,'two_lang');i.addClass(n,'one_lang');i.hide(m.defaultLang);h(m.secondLangInput).value=0;},setTwoLanguages:function(){var n=h(m.languageSection);i.removeClass(n,'lang_init');i.removeClass(n,'one_lang');i.addClass(n,'two_lang');i.hide(m.defaultLang);m.setLocales('second');}};f.exports=m;},null);
__d('EchoDataSource',['ArbiterMixin','emptyFunction','SearchableEntry','mixin'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,k(h));m=l&&l.prototype;function n(){'use strict';m.constructor.call(this);}n.prototype.query=function(o,p,q,r){'use strict';var s=o?[{uid:o,text:o}]:[];this.inform('respond',{value:o,results:s,isAsync:false});};n.prototype.search=function(o,p){'use strict';if(!o)return;var q=new j({uniqueID:o?o:'null',title:o});p([q],o);};Object.assign(n.prototype,{events:['respond'],bootstrap:i,init:i});f.exports=n;},null);
__d("ComposerXComponents",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$ComposerXComponents1=i;}h.prototype.getComponents=function(){"use strict";return this.$ComposerXComponents1;};f.exports=h;},null);
__d("XPokeDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pokes\/dialog\/",{do_confirm:{type:"Bool",defaultValue:false},poke_target:{type:"Int"},__asyncDialog:{type:"Int"}});},null,{});
__d('Poke',['Arbiter','AsyncRequest','ChannelConstants','PokeUtility','XPokeDialogController'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(n,o){var p=o.obj.poke_source,q=o.obj.poke_time;if(!k.shouldActOn(p,q))return;var r=k.getLivePokeURI(p);new i().setURI(r).send();k.hideExistingLivePoke(p);}f.exports.init=function(n){h.subscribe(j.getArbiterType('live_poke'),m);n.getView().subscribe("afterSelect",function(){var o=n.getCore().getHiddenValue();if(o!==''){var p=l.getURIBuilder().setInt('poke_target',o).getURI();new i().setURI(p).setNectarModuleDataSafe(n.getView().getElement()).send();n.getCore().reset();}return true;});};},null);
__d('HubsTypeaheadView',['Arbiter','AsyncRequest','ContextualTypeaheadView','CSS','DOM','Event','$','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;p=babelHelpers.inherits(r,j);q=p&&p.prototype;function r(s,t){'use strict';q.constructor.call(this,s,t);if(t.allowDedupe)this.subscribe('select',this.selectDuplicates.bind(this));}r.prototype.hide=function(){'use strict';return this.canHide?q.hide.call(this):null;};r.prototype.reset=function(){'use strict';return this.canHide?q.reset.call(this):null;};r.prototype._createFreeFormNode=function(s){'use strict';var t=s;if(this.showCreatePrompt){t=o._("Add \"{partial_name}\"",[o.param('partial_name',s)]);}else if(this.showAltCreatePrompt)t=o._("Create \"{partial_name}\"",[o.param('partial_name',s)]);return {text:t,orig_text:s,type:'addnew calltoaction',uid:'0'};};r.prototype.validateQuery=function(s){'use strict';return this.minQueryLength?s.length>=this.minQueryLength:true;};r.prototype.render=function(s,t,u){'use strict';var v=[],w=Math.max(1,Math.floor(t.length/10));for(var x=w;x<t.length;x++)if(!!t[x].already_added){v.push(t[x]);t.splice(x,1);x--;}t=t.concat(v);if(this.alwaysRender&&s!=='')if(this.allowFreeformEntry){if(this.validateQuery(s))t.push(this._createFreeFormNode(s));}else{var y=s.toLowerCase().trim(),z=false;for(var aa=0;aa<t.length;aa++)if(y==t[aa].text.toLowerCase().trim()){z=true;break;}if(!z&&this.validateQuery(s))t.push(this._createFreeFormNode(s));}var ba=t.length;for(var ca=0;ca<t.length;ca++)if(t[ca].uid==false)ba--;if(this.allowDedupe&&ba>1&&s.length>=3)t.push({text:o._("Mark Duplicate Results"),type:'dupelink calltoaction'});return q.render.call(this,s,t,u);};r.prototype.selectDuplicates=function(s,t){'use strict';if(!t.selected.type.match('dupelink'))return;var u=[];for(var v=0;v<this.results.length;v++){if(this.results[v].uid==false)continue;u.push(this.results[v].uid);}var w=h.subscribe('typeahead/'+this.collectionID+'/confirmDupes',(function(x,y){var z=this.results.map(function(ca){return ca.uid;});for(var aa=0;aa<y.dupe_ids.length;aa++){var ba=z.indexOf(y.dupe_ids[aa]);k.hide(this.items[ba]);}this.hasHiddenDupes=y.dupe_ids.length>0;}).bind(this));h.subscribe('typeahead/'+this.collectionID+'/finishDupes',(function(x,y){h.unsubscribe(w);this.canHide=true;this.hasHiddenDupes&&k.hide(l.find(this.content,'.dupelink'));this.hasHiddenDupes=false;}).bind(this));this.canHide=false;new i('/ajax/typeahead/quality/duplicates').setData({ids:u,surface:n('collections_surface').value,collection_id:this.collectionID}).send();};r.initFreeformBoxes=function(){'use strict';var s=l.scry(document,'div.fbAddFormDialog')[0];if(!s)return;var t=l.find(s,'form');m.listen(t,'submit',function(){l.scry(t,'div.fbFreeformInput').forEach(function(u){if(l.find(u,'input.inputtext').value)k.addClass(u.firstChild,'selected');});});};Object.assign(r.prototype,{canHide:true,hasHiddenDupes:false});f.exports=r;},null);
__d('TypeaheadSetPhotoOnSelect',['CSS','DOM','Event'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l){'use strict';this._typeahead=l;}k.prototype.enable=function(){'use strict';var l=i.scry(this._typeahead.getElement(),'.photo')[0];if(l){if(!i.isNodeOfType(l,'img')){var m=i.create('img',{className:l.className});i.replace(l,m);l=m;}var n=h.hide.bind(null,l),o=h.show.bind(null,l);this._eventListener=j.listen(l,{load:o,error:n,abort:n});this._subscription=this._typeahead.subscribe('select',(function(p,q){var r=q.selected.photo||this._typeahead.view.fallbackPhoto;r?l.setAttribute('src',r):n();}).bind(this));}};k.prototype.disable=function(){'use strict';this._eventListener.remove();this._eventListener=null;this._typeahead.unsubscribe(this._subscription);this._subscription=null;};Object.assign(k.prototype,{_eventListener:null,_subscription:null});f.exports=k;},null);
__d('legacy:SetPhotoOnSelectTypeaheadBehavior',['TypeaheadSetPhotoOnSelect'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.setPhotoOnSelect=function(i){i.enableBehavior(h);};},3);
__d('TypeaheadShowBootstrapOnFocus',['TypeaheadShowResultsOnFocus'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this._uids=[];}k.prototype.getMaxBootstrapEntries=function(){'use strict';return 3;};k.prototype.cacheUids=function(){'use strict';return true;};k.prototype.firstFetch=function(l,m,n){'use strict';if(!l.bootstrapping){if(this.cacheUids())this._uids=this.getUidsFromData(n);this.respond(m,n);}};k.prototype.respond=function(l,m){'use strict';if(!l.getValue()){l.setValue('');var n=this.cacheUids()?this._uids:this.getUidsFromData(m),o=m.buildUids(' ',n);m.respond('',o);}};k.prototype.getUidsFromData=function(l){'use strict';var m=l.getAllEntries(),n=[];for(var o in m)if(m[o].bootstrapped)n.push({uid:m[o].uid,index:m[o].index});n.sort(function(p,q){return p.index-q.index;});if(this.getMaxBootstrapEntries())n=n.slice(0,this.getMaxBootstrapEntries());return n.map(function(p){return p.uid;});};f.exports=k;},null);