/*!CK:2482185561!*//*1444621816,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["np\/1D"]); }

__d('ReactComposerInstantMediaAttachmentSelector.react',['ReactComposerMediaAttachmentSelector.react','ComposerTargetData','Bootloader','FileInput.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=m.createClass({displayName:'ReactComposerInstantMediaAttachmentSelector',mixins:[l],propTypes:{mediaAcceptParam:p.shape({photos:p.string,both:p.string}).isRequired,onClick:p.func.isRequired,onFilesSelected:p.func.isRequired,targetData:p.instanceOf(i).isRequired},render:function(){return (m.createElement(k,{accept:this.props.mediaAcceptParam.both,containerClassName:"_yt4",display:'inline',multiple:this.props.targetData.targetSupportsMultiplePhotos,name:'composer_photo',onChange:this._onFilesSelected,onClick:this.props.onClick,ref:'fileInput',role:'button',tabIndex:'0','data-testid':'instant-media-attachment-selector'},m.createElement(h,{label:o._("Add Photos\/Video")})));},_onFilesSelected:function(event){this.props.onFilesSelected(event);j.loadModules(["ReactComposerMediaUtils"],(function(r){return (r.clearInput(this.refs.fileInput.getFileInput()));}).bind(this));}});f.exports=q;},null);
__d('ReactComposerMediaFilePickerMixin',['ReactComposerContextMixin','Bootloader','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={mixins:[h],componentWillMount:function(){!this.props.photoLimit?j(0):undefined;!this.props.targetData?j(0):undefined;},_onFileInputClick:function(l){i.loadModules(["ReactComposerAttachmentLoader","ReactComposerAttachmentType","ReactComposerMediaInitUtils","ReactComposerPhotoUploadActions","ReactComposerLoggingStore"],(function(m,n,o,p,q){p.inputClicked(this.context.composerID);m.load(this.context.composerID,n.MEDIA,typeof l==='function'?l:o.bootload,o.getBootstrapURI(this.context.composerID,this.context.composerType,this.context.targetID,this.context.actorID));}).bind(this));},_onFilesSelected:function(event){i.loadModules(["ReactComposerAttachmentType","ReactComposerAttachmentActions","ReactComposerPhotoUploader","ReactComposerMediaUtils"],(function(l,m,n,o){var p=new n(this.context,this.props.photoLimit,{disableFaceRecognition:this.props.disableFaceRecognition});m.selectAttachment(this.context.composerID,l.MEDIA);o.uploadPhotosOrVideoFromTarget(this.context.composerID,event.target,p,this.props.targetData.targetSupportsMultiplePhotos);}).bind(this));}};f.exports=k;},null);
__d('ReactComposerInstantMediaAttachmentSelectorContainer.react',['ReactComposerInstantMediaAttachmentSelector.react','ReactComposerMediaFilePickerMixin','ComposerTargetData','ReactComponentWithPureRenderMixin','React','curry'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'ReactComposerInstantMediaAttachmentSelectorContainer',mixins:[k,i],propTypes:{bootload:n.func,disableFaceRecognition:n.bool.isRequired,mediaAcceptParam:n.shape({photos:n.string,both:n.string}).isRequired,photoLimit:n.number.isRequired,targetData:n.instanceOf(j).isRequired},getDefaultProps:function(){return {disableFaceRecognition:false};},render:function(){return (l.createElement(h,babelHelpers._extends({},this.props,{onClick:m(this._onFileInputClick,this.props.bootload),onFilesSelected:this._onFilesSelected})));}});f.exports=o;},null);
__d('ReactComposerNotesAttachmentSelector.react',['ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerContextMixin','AsyncDialog','AsyncRequest','ReactComponentWithPureRenderMixin','React','XNotesComposerController','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=n.PropTypes,s=n.createClass({displayName:'ReactComposerNotesAttachmentSelector',mixins:[j,m],propTypes:{label:r.string},getDefaultProps:function(){return {label:p._("Write Note")};},render:function(){return (n.createElement(h,{attachmentID:i.NOTES,label:this.props.label,icon:q('/images/litestand/composer/icons/note.png'),onSelected:this._onSelected}));},_onSelected:function(){var t=o.getURIBuilder().getURI(),u=new l(t).setMethod('POST').setStatusElement(this.context.composerID);k.send(u);}});f.exports=s;},null);
__d('ReactFeedComposer.react',['ReactComposer.react','ReactComposerAttachmentType','ReactComposerBodyContainer.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerFeedBootloader','ReactComposerLazyHeader.react','ReactComposerMediaAttachmentSelector.react','ReactComposerInstantMediaAttachmentSelectorContainer.react','ReactComposerMediaLazyAttachment.react','ReactComposerNotesAttachmentSelector.react','ReactComposerMLEAttachmentSelector.react','ReactComposerMLELazyAttachment.react','ReactComposerQAndAAttachmentSelector.react','ReactComposerQAndALazyAttachment.react','ReactComposerStatusAttachmentSelector.react','ReactComposerStatusLazyAttachment.react','Bootloader','DOMContainer.react','React','LitestandComposer','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){if(c.__markCompiled)c.__markCompiled();var fa=ba.createClass({displayName:'ReactFeedComposer',mixins:[m],propTypes:{contextConfig:l.isRequired,config:k.isRequired},componentDidMount:function(){ca.initComposer(this.props.contextConfig.composerID);},statics:{preload:function(){}},render:function(){var ga=this._getAdditionalAttachmentComponents(),ha=ga[0],ia=ga[1];return (ba.createElement(h,{className:"_5n2b",loggingConfig:this.props.config.loggingConfig},ba.createElement(o,{showDelimiter:true},ba.createElement(x,{label:ea._(["Update Status","155d6cd2b97f05fd0d45ff038fb8f47d"])}),ha),ba.createElement(j,{expanded:this.props.config.showExpandedComposer},ba.createElement(y,{bootloader:n,config:this.props.config,selected:true,expanded:this.props.config.showExpandedComposer}),ia)));},_getAdditionalAttachmentComponents:function(){var ga=this.props.config.attachmentsConfig,ha=[],ia=[],ja=ga[i.ALBUM].enabled,ka=ga[i.NOTES].enabled,la=ga[i.QANDA].enabled,ma=ga[i.MLE].enabled;ha.push(this._getMediaAttachmentSelector());ia.push(ba.createElement(r,{key:'media',config:this.props.config,bootloader:n}));if(ja)ha.push(ba.createElement(aa,{key:'album',display:'block'},ga[i.ALBUM].createAlbumLink));if(ka)ha.push(ba.createElement(s,{key:'notes'}));if(la){ha.push(ba.createElement(v,{key:'qanda'}));ia.push(ba.createElement(w,{key:'qanda',config:this.props.config,bootloader:n}));}if(ma){ha.push(ba.createElement(t,{key:'mle',label:ea._("Add a Life Event")}));ia.push(ba.createElement(u,{key:'mle',config:this.props.config}));}return [ha,ia];},_getMediaAttachmentSelector:function(){var ga=this.props.config.attachmentsConfig[i.MEDIA];if(ga.openFileBrowserImmediately)return (ba.createElement(q,{key:'media',disableFaceRecognition:ga.disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,photoLimit:ga.photoLimit,targetData:this.props.config.targetData,bootload:function(ha){return z.loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerFeedMediaPostButtonContainer.react"],ha);}}));return (ba.createElement(p,{key:'media',label:ea._("Add Photos\/Video")}));}});f.exports=fa;},null);