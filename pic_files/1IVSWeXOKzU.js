/*!CK:662428632!*//*1445226328,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["jn5Fe"]); }

__d("VideoEditEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={JS_LOADED:"js_loaded",PAGE_LOAD_STARTED:"page_loaded_started",PAGE_LOADED:"page_loaded",SAVE_ERROR:"save_error",SAVE_START:"save_start",PREFERRED_THUMBNAIL_CHANGE:"preferred_thumbnail_change",THUMBNAIL_CREATE_STARTED:"thumbnail_create_started",THUMBNAIL_CREATED:"thumbnail_created",SAVE_SUCCESS:"save_success",CTA_UNEXPECTED:"cta_unexpected",CTA_CHANGE_REQUEST:"cta_change_request",VIDEO_DELETE:"video_delete"};},null,{});
__d('AdsTypeahead.react',['AdsHelpLink.react','AdsValidationIcon.react','AdsValidationIconType','BackgroundImage.react','React','ReactChildren','SearchableEntry','XUICloseButton.react','XUITypeahead.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=l.PropTypes,t=l.createClass({displayName:'AdsTypeahead',propTypes:{autoHighlight:s.bool,disabled:s.bool,disableTooltip:s.bool,errors:s.array,focusedOnInit:s.bool,onQueryStringChange:s.func,onSelectAttempt:s.func,placeholder:s.string,presenter:s.object,searchSource:s.object.isRequired,selectedEntry:s.instanceOf(n)},getDefaultProps:function(){return {autoHighlight:true,disableTooltip:false};},getInitialState:function(){var u=this.props.selectedEntry;return {queryString:this.props.selectedEntry?u.getTitle():'',focused:!!this.props.focusedOnInit};},componentWillReceiveProps:function(u){if('selectedEntry' in u)this.setState({queryString:u.selectedEntry?u.selectedEntry.getTitle():this.state.queryString});},focusInput:function(){this.setState({focused:true});this.refs.typeahead.focusInput();},render:function(){var u=null,v=null;if(this.props.selectedEntry){u=this.props.selectedEntry;v=this.props.selectedEntry.getPhoto();}var w=Array.isArray(this.props.errors)&&this.props.errors.length?l.createElement('span',{className:"_1fys"},l.createElement(i,{type:j.ERROR_WHITE,messages:this.props.errors})):null,x=r("_1fyt"+(' '+"_1fyu")+(this.state.focused?' '+"_1fyv":'')+(!!w?' '+"_1fyw":''),this.props.className),y=this.props.placeholder||'',z=!this.props.selectedEntry||!this.state.queryString,aa=!!this.state.queryString&&!this.props.selectedEntry,ba=null;if(this.props.tooltipHelpText)ba=l.createElement('span',{className:"_1fyx"},l.createElement(h,null,this._getTooltipHelpText()));return (l.createElement('div',{className:x,title:this.props.disableTooltip?null:y},l.createElement('div',{className:"_1fyy"+(!!w?' '+"_1fyz":'')},w,l.createElement('div',{className:(this.props.disabled?"_1fy-":'')+(' '+"_1fy_")+(!!u?' '+"_1fz0":'')+(!!ba?' '+"_1fz1":'')+(!!v?' '+"_1fz2":'')},v&&this._renderPhoto(v),u&&this._renderClearEntry(),!u&&ba,l.createElement(p,{autoHighlight:this.props.autoHighlight,disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onSelectAttempt:this._onSelectAttempt,placeholder:y,presenter:this.props.presenter,queryString:this.state.queryString,ref:'typeahead',searchSource:this.props.searchSource,selectOnBlur:aa,showEntriesOnFocus:z,viewStyle:'rich'}))),l.createElement('div',null,this.props.children)));},_renderPhoto:function(u){return (l.createElement(k,{className:"_1fz3",src:u,width:24,height:24,backgroundSize:'cover'}));},_renderClearEntry:function(){if(this.props.disabled)return null;return (l.createElement('div',{className:"_1fz4"},l.createElement(o,{onClick:this._onClearEntry})));},_getTooltipHelpText:function(){return m.map(this.props.tooltipHelpText,function(u,v){return (l.createElement('p',{className:"_1fz5",key:v},u));});},_onChange:function(event){this.setState({queryString:event.target.value},this._didChange);},_didChange:function(){this.props.selectedEntry&&this.props.onSelectAttempt&&this.props.onSelectAttempt(null);if(this.props.onQueryStringChange)this.props.onQueryStringChange(this.state.queryString);},_onSelectAttempt:function(u){this.props.onSelectAttempt&&this.props.onSelectAttempt(u);},_onClearEntry:function(){this.setState({queryString:''},this._onClear);},_onClear:function(){this.refs.typeahead.focusInput();this.props.onSelectAttempt&&this.props.onSelectAttempt(null);},_onFocus:function(){this.setState({focused:true});},_onBlur:function(){this.setState({focused:false});}});f.exports=t;},null);
__d('AdsPEVideoThumbnailPicker.react',['LeftRight.react','React','ReactChildren','Image.react','XUIButton.react','XUIPagerButtons.react','XUIText.react','clamp','cx','fbt','ix','onlyChild'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=i.PropTypes,u=i.createClass({displayName:'AdsPEVideoThumbnailPicker',propTypes:{thumbnails:t.arrayOf(t.shape({id:t.string,uri:t.string.isRequired})).isRequired,onChange:t.func.isRequired,index:t.number.isRequired,title:t.string},_prevImage:function(){this._setImageIndex(this.props.index-1);},_nextImage:function(){this._setImageIndex(this.props.index+1);},_setImageIndex:function(v){v=o(v,0,this.props.thumbnails.length-1);if(v!==this.props.index)this.props.onChange(v,this.props.thumbnails[v]);},render:function(){if(this.props.thumbnails.length===0)return null;var v=this.props.index,w=this.props.thumbnails[v].uri,x=null;if(j.count(this.props.children)>0)x=i.createElement('div',{className:"_w3"},s(this.props.children));return (i.createElement(h,{className:this.props.className,direction:h.DIRECTION.left},i.createElement('img',{className:"_w9",src:w,alt:this.props.title}),i.createElement('div',{className:"_wf"},i.createElement('div',{className:"_3-95"},i.createElement(m,null,i.createElement(l,{onClick:this._prevImage,image:i.createElement(k,{src:r('/images/ui/x/pager/left.png')}),type:'button'}),i.createElement(l,{onClick:this._nextImage,image:i.createElement(k,{src:r('/images/ui/x/pager/right.png')}),type:'button'})),i.createElement(n,{weight:'bold',className:"_3-9a"},q._("Thumbnail {selected thumbnail index} of {total number of thumbnails}",[q.param('selected thumbnail index',v+1),q.param('total number of thumbnails',this.props.thumbnails.length)]))),x)));}});f.exports=u;},null);
__d('BUIFormButton.react',['BUIForm.react','React','XUIButton.react','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'BUIFormButton',propTypes:babelHelpers._extends({},j.propTypes,{density:h.propTypes.density}),render:function(){var m=this.props,n=m.density,o=babelHelpers.objectWithoutProperties(m,['density']),p;switch(n){case 'breathy':case 'svelt':p='xlarge';break;case 'snug':p='large';break;case 'taut':p='medium';break;default:undefined;}return (i.createElement(j,babelHelpers._extends({},o,{size:p})));}});f.exports=l;},null);
__d('BUIFormTextInput.react',['BUIForm.react','BUITextInput.react','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'BUIFormTextInput',propTypes:babelHelpers._extends({},i.propTypes,{density:h.propTypes.density}),render:function(){var m=this.props,n=m.density,o=babelHelpers.objectWithoutProperties(m,['density']),p;switch(n){case 'breathy':case 'svelt':p='xtall';break;case 'snug':p='tall';break;case 'taut':p='short';break;default:undefined;}return (j.createElement(i,babelHelpers._extends({},o,{height:p})));}});f.exports=l;},null);
__d('VideoContentCategorySelector.react',['React','VideoContentCategoryType','XUISelector.react'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.Option,l=h.PropTypes,m=h.createClass({displayName:'VideoContentCategorySelector',propTypes:{onChange:l.func,value:l.number},render:function(){var n=Object.keys(i),o=n.map(function(p){var q=i[p];return (h.createElement(k,{key:q.value,value:q.value},q.label));});return (h.createElement(j,{onChange:this.props.onChange,value:this.props.value,defaultValue:i.OTHER.value},o));}});f.exports=m;},null);
__d('MentionsInputUtility',['DraftEntity','createEditorStateWithEntities'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=new RegExp(/@\[(\d+):((\\\]|[^\]])+)\]/g),k=new RegExp(/@\[(\d+):(\d+):((\\\]|[^\]])+)\]/g),l=function(n){var o=n.replace(k,'@[$1:$3]'),p=[],q;while(q=j.exec(o)){var r=q[2].replace(/\\:/g,':').replace(/\\]/g,']').replace(/\n/g,''),s={uid:q[1],text:r,offset:q.index,length:r.length,weakreference:false,entity:{uid:q[1],weakreference:false}};p.push(s);o=o.substr(0,s.offset)+s.text+o.substr(s.offset+q[0].length);j.lastIndex=s.offset+s.length;}return {text:o,ranges:p};},m=function(n,o){var p=this.parseTextWithMentions(n),q=p.text,r=p.ranges;return i({text:q,ranges:r,decorator:o,entityCreationFn:function(s){return h.create('MENTION','IMMUTABLE',{id:s.uid,isWeak:s.weakreference});},splitIntoBlocks:true,allowUndo:true});};f.exports={createFromTextWithMentions:m,parseTextWithMentions:l};},null);
__d('ProgressiveDateAndTimePicker.react',['InlineBlock.react','React','XUIProgressiveDatepicker.react','XUISelector.react','cx','fbt','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=k.Option,p=i.PropTypes,q=i.createClass({displayName:'ProgressiveDateAndTimePicker',propTypes:babelHelpers._extends({},j.propTypes,{initialHour:p.number,initialMinute:p.number}),getDefaultProps:function(){return {initialHour:-1,initialMinute:-1,maxTime:Date.now()/1000,minTime:new Date(1906,0,0,0,0).getTime()/1000};},getInitialState:function(){return {datePickerResult:{year:this.props.initialYear,month:this.props.initialMonth,day:this.props.initialDay},hour:this.props.initialHour,minute:this.props.initialMinute};},onDateChange:function(r){this.setState({datePickerResult:r},this.onDateAndTimeChange);},onDateAndTimeChange:function(){if(!this.props.onDateAndTimeChange)return;var r=this.state.datePickerResult,s=babelHelpers._extends({},r,{hour:this.state.hour,minute:this.state.minute});this.props.onDateAndTimeChange(s);},onHourChange:function(event){this.onSelectorChange(event,'hour');},onMinuteChange:function(event){this.onSelectorChange(event,'minute');},onSelectorChange:function(event,r){var s=event.target?event.target.value:event.value,t={};t[r]=s;this.setState(t,this.onDateAndTimeChange);},render:function(){var r,s;if(this.state.datePickerResult.day){var t=[i.createElement(o,{key:-1,value:-1},m._("Hour:"))];for(var u=0;u<24;u++){var v=new Date();v.setHours(u);var w=n(v,'g A');t.push(i.createElement(o,{key:u,value:u},w));}r=i.createElement(k,{className:"_5vu1",disabled:!this.state.datePickerResult.day,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+'_hour',onChange:this.onHourChange,value:this.state.hour},t);}if(this.state.hour!=-1){var x=[i.createElement(o,{key:-1,value:-1},m._("Minute:"))];for(u=0;u<60;u+=10){var y='00';if(u>0)y=u;x.push(i.createElement(o,{key:u,value:u},y));}s=i.createElement(k,{className:"_5vu1",disabled:this.state.hour==-1,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+'_minute',onChange:this.onMinuteChange,value:this.state.minute},x);}return (i.createElement(h,{className:this.props.className},i.createElement(j,babelHelpers._extends({},this.props,{onDateChange:this.onDateChange})),r,s));}});f.exports=q;},null);
__d('VideoMultiCaptionDefaultSelector.react',['HelpLink.react','React','Selector.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.Option,n=i.PropTypes,o='video_multi_captions_default_selector_';function p(r){return o+r;}var q=i.createClass({displayName:'VideoMultiCaptionDefaultSelector',propTypes:{defaultLocale:n.string,locales:n.array.isRequired,localesMap:n.object.isRequired},render:function(){var r=this.props.defaultLocale?this.props.defaultLocale:'none',s=i.createElement(m,{value:'none'},l._("None")),t=this.props.locales.map(function(v){return (i.createElement(m,{value:v,key:p(v)},this.props.localesMap[v],': ',v));},this),u=l._("The language will only appear on videos that don't have your preferred caption language available.");return (i.createElement('div',{className:"_3-8n _3eab"},l._("Backup Language"),i.createElement(h,{tooltip:u,alignv:'bottom'}),i.createElement('div',null,i.createElement(j,{name:'default_captions_locale',defaultValue:r},s,t))));}});f.exports=q;},null);
__d('VideoRemovableUploadedCaption.react',['CloseButton.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes;function m(o){return 'remove_caption['+o+']';}var n=i.createClass({displayName:'VideoRemovableUploadedCaption',propTypes:{deletekey:l.number.isRequired,locale:l.string.isRequired,localeName:l.string.isRequired},getInitialState:function(){return {removed:false};},render:function(){return (i.createElement('div',{className:"_2phz _4dez"},this.renderRemovableCaption()));},renderRemovableCaption:function(){var o=this.props.locale,p=this.props.localeName;if(this.state.removed)return (i.createElement('div',null,k._("Delete {locale}.",[k.param('locale',o)]),' ',i.createElement('a',{href:'#',onClick:this._handleUndoRemove},k._("Undo")),i.createElement('input',{name:m(this.props.deletekey),type:'hidden',value:o})));return (i.createElement('div',null,i.createElement('span',{className:"_4de-"},p,': ',o),i.createElement(h,{'aria-labelledby':'metadata_caption_remove',className:"_3-99 _4de-",onClick:this._handleRemove,size:'small'})));},_handleRemove:function(){this.setState({removed:true});},_handleUndoRemove:function(){this.setState({removed:false});}});f.exports=n;},null);
__d('VideoMultiCaptionList.react',['React','VideoRemovableUploadedCaption.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m='video_multi_captions_locale_field_';function n(p){return m+p;}var o=h.createClass({displayName:'VideoMultiCaptionList',propTypes:{initialLocales:l.array.isRequired,localesMap:l.object.isRequired},render:function(){if(this.props.initialLocales.length>0)return (h.createElement('div',{className:"_3-8m"},h.createElement('div',{className:"_439x _3-93 _3-8m"},this.renderList())));return (h.createElement('div',{className:"_3-8w"},k._("No captions exist yet")));},renderList:function(){var p=this.props.initialLocales.map(function(q){return (h.createElement(i,{deletekey:this.props.initialLocales.indexOf(q),key:n(q),locale:q,localeName:this.props.localesMap[q]}));},this);return p;}});f.exports=o;},null);
__d('VideoMultiCaptionUploaderList.react',['HelpLink.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='captions_file',m=i.createClass({displayName:'VideoMultiCaptionUploaderList',render:function(){var n=k._("Valid SRT files must be used for captions. To replace an SRT file that is already being used for a locale, you must delete the old one first before uploading a new one.");return (i.createElement('div',{className:"_3-8n _15z_"},k._("Upload SRT files"),i.createElement(h,{tooltip:n,alignv:'bottom'}),i.createElement('input',{'aria-labelledby':'metadata_caption',type:'file',name:l})));}});f.exports=m;},null);
__d('VideoMultiCaptionFileInput.react',['React','VideoMultiCaptionDefaultSelector.react','VideoMultiCaptionList.react','VideoMultiCaptionUploaderList.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'VideoMultiCaptionFileInput',propTypes:{defaultLocale:l.string,initialLocales:l.array.isRequired,localesMap:l.object.isRequired},render:function(){var n=null;if(this.props.initialLocales.length)n=h.createElement(i,{defaultLocale:this.props.defaultLocale,locales:this.props.initialLocales,localesMap:this.props.localesMap});return (h.createElement('div',null,h.createElement(j,{initialLocales:this.props.initialLocales,localesMap:this.props.localesMap}),n,h.createElement(k,null)));}});f.exports=m;},null);
__d('VideoEditCaptions.react',['React','VideoMultiCaptionFileInput.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'VideoEditCaptions',propTypes:{captions:j.object},getDefaultProps:function(){return {captions:[]};},render:function(){var l=this.props.captions,m,n=[],o={};for(var p in l){var q=l[p];if(q.is_default)m=q.locale;n.push(q.locale);o[q.locale]=q.locale_name;}return (h.createElement('div',{className:this.props.className},h.createElement(i,{defaultLocale:m,initialLocales:n,localesMap:o})));}});f.exports=k;},null);
__d('VideoEditLogger',['BanzaiLogger'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={logEvent:function(j,k){h.log('VideoEditLoggerConfig',{event:j,video_id:parseInt(k,10)});}};f.exports=i;},null);
__d('VideoEditMentionsTextArea.react',['AtSignMentionsStrategy','DocumentCompositeMentionsSource','DocumentMentionsSource','EditorState','MentionsInput.react','MentionsInputUtility','MentionsInputTypeaheadView.react','React','cx','joinClasses','getMentionsInputDecorator'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=o.createClass({displayName:'VideoEditMentionsTextArea',propTypes:{disabled:s.bool},getDefaultProps:function(){return {disabled:false};},getInitialState:function(){var u=new j(h,this.props.searchSource),v=new i([u]),w=this.props.textWithMentions,x;if(this.props.editorState){x=this.props.editorState;}else if(w){x=m.createFromTextWithMentions(w,r());}else x=k.createEmpty(r());this.props.onChange(x);return {compositeMentionsSource:v,editorState:x};},_onChange:function(u){if(this.props.disabled)return;this.setState({editorState:u});this.props.onChange(u);},focus:function(){this.refs.mentionsInput.focus();},render:function(){var u=q("_2oc3",this.props.className);return (o.createElement(l,{className:u,editorState:this.state.editorState,mentionsSource:this.state.compositeMentionsSource,placeholder:this.props.placeholder,typeaheadView:n,typeaheadViewProps:{},onChange:this._onChange,ref:'mentionsInput'}));}});f.exports=t;},null);
__d('VideoEditTokenizer.react',['React','XUITokenizer.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'VideoEditTokenizer',propTypes:{disabled:j.bool,onTagsChange:j.func.isRequired},getDefaultProps:function(){return {disabled:false};},getInitialState:function(){return {queryString:''};},onAddTagAttempt:function(l){var m=this.props.entries||[],n=m.indexOf(l);if(n>=0)return;m.push(l);this.props.onTagsChange(m);this.setState({queryString:''});},onRemoveTagAttempt:function(l){var m=this.props.entries||[],n=m.indexOf(l);if(n>=0)m.splice(n,1);this.props.onTagsChange(m);},onQueryStringChange:function(event){if(this.props.disabled){return;}else this.setState({queryString:event.target.value});},render:function(){return (h.createElement(i,babelHelpers._extends({},this.props,{onQueryStringChange:this.onQueryStringChange,queryString:this.state.queryString,onAddEntryAttempt:this.onAddTagAttempt,onRemoveEntryAttempt:this.onRemoveTagAttempt})));}});f.exports=k;},null);
__d('VideoThumbnailPicker.react',['AdsPEVideoThumbnailPicker.react','BUIFormButton.react','FileInput.react','Grid.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.GridItem,p=l.PropTypes,q=l.createClass({displayName:'VideoThumbnailPicker',propTypes:{thumbnails:p.arrayOf(p.shape({id:p.string,uri:p.string.isRequired})).isRequired,onPickerChange:p.func.isRequired,index:p.number.isRequired,allowCustomThumbnails:p.bool.isRequired,onFileInputChange:p.func},render:function(){var r=l.createElement(h,{thumbnails:this.props.thumbnails,onChange:this.props.onPickerChange,index:this.props.index,title:n._("Choose a Thumbnail")}),s;if(this.props.allowCustomThumbnails){s=l.createElement(j,{accept:'image/*',name:'custom_thumbnail',onChange:this.props.onFileInputChange},l.createElement(i,{href:{url:'#'},label:n._("Add Custom Thumbnail")}));}else s=l.createElement('div',null);return (l.createElement(k,{cols:2,spacing:'prl'},l.createElement(o,null,r),l.createElement(o,null,l.createElement('div',{className:"_5nd2"},s))));}});f.exports=q;},null);
__d('VideoEditForm.react',['AdsAPIObjectives','AdsCreativeCallToActionField.react','AdsTextInput.react','AdsTypeahead.react','BUIForm.react','BUIFormButton.react','BUIFormTextInput.react','DOMContainer.react','InlineBlock.react','InputLabel.react','ProgressiveDateAndTimePicker.react','React','SearchableEntry','VideoContentCategorySelector.react','VideoEditCaptions.react','VideoEditEvent','VideoEditLogger','VideoEditMentionsTextArea.react','VideoEditTokenizer.react','VideoThumbnailPicker.react','XUICheckboxInput.react','XUINotice.react','cx','fbt','getMentionsTextForContentState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){if(c.__markCompiled)c.__markCompiled();var ga=l.Element,ha=l.Section,ia=s.PropTypes,ja=b.URL||b.webkitURL||{},ka=s.createClass({displayName:'VideoEditForm',propTypes:{allowCustomThumbnails:ia.bool,canBackdate:ia.bool,canFeature:ia.bool,canPreview:ia.bool,canTag:ia.bool,captions:ia.object,deleteDialogURI:ia.object,description:ia.string,embeddable:ia.bool,error:ia.object,isEncoding:ia.bool,locationEntry:ia.object,mentionsSearchSource:ia.object,notifyWhenProcessed:ia.bool,placesSearchSource:ia.object,preferredThumbnailIndex:ia.number,previewMarkup:ia.object,privacySelector:ia.object,privacyDescription:ia.string,tags:ia.array,tagsSearchSource:ia.object,thumbnails:ia.array,title:ia.string,videoID:ia.string,videoPermalink:ia.string},componentDidMount:function(){x.logEvent(w.JS_LOADED,this.props.videoID);},getInitialState:function(){return {contentCategory:this.props.contentCategory,ctaType:this.props.ctaType,ctaLink:this.props.ctaLink,ctaCaption:this.props.ctaCaption,editorStateContent:this.props.description,locationEntry:this.props.locationEntry?new t(this.props.locationEntry):null,tags:this.props.tags||[],title:this.props.title,embeddable:this.props.embeddable,thumbnails:this.props.thumbnails,thumbnailIndex:this.props.preferredThumbnailIndex-1};},onTitleChange:function(event){this.setState({title:event.target.value});},onDescriptionChange:function(la){this.setState({editorState:la,editorStateContent:fa(la.getCurrentContent())});},onLocationSelectAtempt:function(la){this.setState({locationEntry:la});},getDateTimeKey:function(la){return 'initial'+la.charAt(0).toUpperCase()+la.slice(1);},onTagsChange:function(la){this.setState({tags:la});},onThumbnailPickerChange:function(la){this.setState({thumbnailIndex:la});},onThumbnailImageChange:function(event){if(typeof ja.createObjectURL!=='function')return;var la,ma;if(event.target.files.length===0){la=this.props.thumbnails;ma=this.state.thumbnailIndex>=la.length?la.length-1:this.state.thumbnailIndex;}else{la=this.props.thumbnails.concat([{uri:ja.createObjectURL(event.target.files[0])}]);ma=la.length-1;}this.setState({thumbnails:la,thumbnailIndex:ma});},renderTaggerSection:function(){var la=this.state.tags.map(function(na){return na.getUniqueID();}),ma=la.join(',');return (s.createElement(ha,{key:'taggerSection'},s.createElement(ga,{label:ea._("In this video"),infoText:ea._("Tag people who appear in this video.")},s.createElement(z,{className:"_2dlh",entries:this.state.tags,onTagsChange:this.onTagsChange,searchSource:this.props.tagsSearchSource}),s.createElement('input',{type:'hidden',name:'tags',value:ma}))));},getPlaceInputKeyAndValue:function(){var la=this.state.locationEntry,ma='place_id',na=la?la.getUniqueID():null;if(la&&!na){ma='place_name';na=la.getTitle();}return {key:ma,value:na};},renderDetailsSection:function(){var la=this.getPlaceInputKeyAndValue();return (s.createElement(ha,{key:'detailsSection'},s.createElement(ga,{label:ea._("Title")},s.createElement(n,{className:"_2dli",onChange:this.onTitleChange,value:this.state.title,name:'title'})),this.renderThumbnailsFormElement(),s.createElement(ga,{label:ea._("Where")},s.createElement(k,{className:"_32bi",autoHighlight:false,placeholder:ea._("Where was this video taken?"),selectedEntry:this.state.locationEntry,onSelectAttempt:this.onLocationSelectAtempt,searchSource:this.props.placesSearchSource}),s.createElement('input',{type:'hidden',name:la.key,value:la.value})),this.renderBackdateFormElement(),s.createElement(ga,{label:ea._("Description")},s.createElement(y,{searchSource:this.props.mentionsSearchSource,className:"_3smg",editorState:this.state.editorState,textWithMentions:this.props.description,onChange:this.onDescriptionChange}),s.createElement('input',{type:'hidden',name:'description',value:this.state.editorStateContent})),this.renderCaptionsFormElement(),this.renderCallToActionFormElement(),this.renderEmbeddableFormElement(),this.renderContentCategoryFormElement(),s.createElement(ga,{label:ea._("Privacy"),infoText:this.props.privacyDescription},s.createElement(p,{className:"_32bj"},s.createElement(o,null,this.props.privacySelector)))));},renderBackdateFormElement:function(){if(!this.props.canBackdate)return s.createElement('div',null);var la={};for(var ma in this.props.backdatedTime){var na=this.getDateTimeKey(ma);la[na]=parseInt(this.props.backdatedTime[ma],10);}return (s.createElement(ga,{label:ea._("When")},s.createElement(r,babelHelpers._extends({className:"_32bj"},la,{inputPrefix:'backtime',descendingYears:true}))));},renderCaptionsFormElement:function(){return (s.createElement(ga,{label:ea._("Captions"),infoText:ea._("Upload your .SRT caption file using this format: filename.en_US.srt")},s.createElement(v,{className:"_2dlj",captions:this.props.captions})));},renderThumbnailsFormElement:function(){if(this.props.isEncoding||this.state.thumbnails.length===0)return s.createElement('div',null);var la=s.createElement(aa,{thumbnails:this.state.thumbnails,onPickerChange:this.onThumbnailPickerChange,index:this.state.thumbnailIndex,allowCustomThumbnails:this.props.allowCustomThumbnails,onFileInputChange:this.onThumbnailImageChange});return (s.createElement(ga,{className:"_1q0n",label:ea._("Thumbnail")},la,s.createElement('input',{type:'hidden',name:'preferred_thumbnail_index',value:this.state.thumbnailIndex+1})));},onProhibitEmbeddableChange:function(event){this.setState({embeddable:!event.target.checked});},renderEmbeddableFormElement:function(){if(this.props.embeddable==null)return s.createElement('span',null);return (s.createElement(ga,{label:ea._("Embedding"),infoText:ea._("When checked, people cannot embed your video on third-party websites.")},s.createElement(p,{className:"_32bj"},s.createElement('input',{type:'hidden',name:'has_embeddable',value:'true'}),s.createElement('input',{type:'hidden',name:'embeddable',value:this.state.embeddable}),s.createElement(q,{className:"_46oj"},s.createElement(ba,{checked:!this.state.embeddable,onChange:this.onProhibitEmbeddableChange}),s.createElement('label',null,ea._("Prohibit embedding"))))));},renderActionsSection:function(){return (s.createElement(ha,{key:'actionsSection'},s.createElement('div',{className:"_59__ mvl"},s.createElement(m,{href:this.props.videoPermalink,label:ea._("Cancel")}),s.createElement(m,{href:this.props.deleteDialogURI,label:ea._("Delete"),rel:'dialog'}),s.createElement(m,{label:ea._("Save"),use:'confirm'}))));},renderCallToActionFormElement:function(){if(!this.props.isOwnerPage||this.props.hideCTA)return s.createElement('span',null);var la=[];if(this.state.ctaType)la=[s.createElement(j,{label:ea._("URL (Required)"),placeholder:ea._("Enter the Page or URL you want people to visit"),className:"_3-8x",onChange:this._onCtaLinkFieldChange,value:this.state.ctaLink}),s.createElement(j,{label:ea._("Link Description"),placeholder:ea._("Enter a description of the Page or URL"),helpText:ea._("If you're using a long website address, your display link will show a shorter, friendlier URL."),className:"_3-8x",onChange:this._onCtaCaptionFieldChange,value:this.state.ctaCaption}),s.createElement('input',{type:'hidden',name:'cta_link',value:this.state.ctaLink}),s.createElement('input',{type:'hidden',name:'cta_caption',value:this.state.ctaCaption})];return (s.createElement(ga,{label:ea._("Call To Action")},s.createElement('div',{className:"_3-95"},ea._("Call-to-action buttons will appear after your video starts and will not appear in your preview.")),s.createElement(i,{apiObjective:h.VIDEO_VIEWS,onChange:this._onCtaTypeChange,selectedType:this.state.ctaType,noButtonLabel:ea._("No Button")}),s.createElement('input',{type:'hidden',name:'cta_type',value:this.state.ctaType}),la));},_onCtaTypeChange:function(la){this.setState({ctaType:la.value});},_onCtaLinkFieldChange:function(la){this.setState({ctaLink:la});},_onCtaCaptionFieldChange:function(la){this.setState({ctaCaption:la});},renderContentCategoryFormElement:function(){return (s.createElement(ga,{label:ea._("Category"),infoText:ea._("Select a category that matches the content of your video")},s.createElement('input',{type:'hidden',name:'content_category',value:this.state.contentCategory}),s.createElement(u,{onChange:this._onContentCategoryChange,value:this.state.contentCategory})));},_onContentCategoryChange:function(event){this.setState({contentCategory:event.value});},renderError:function(){if(!this.props.error)return null;return (s.createElement(ca,{use:'warn'},s.createElement(o,null,this.props.error)));},renderEncodingNotice:function(){if(!this.props.isEncoding)return null;return (s.createElement(ca,{use:'notify'},s.createElement('h1',null,ea._("This video is currently processing")),ea._("You can edit its details here, but you won't be able to choose a thumbnail until processing is complete."),s.createElement(q,null,s.createElement(ba,{name:'alert_when_done',defaultChecked:this.props.notifyWhenProcessed}),s.createElement('label',null,ea._("Notify me when my video is done processing")))));},renderPreviewSection:function(){var la=this.props.canFeature?ea._("Feature"):ea._("Trailer"),ma=this.props.canFeature?null:ea._("Mark this video as a trailer to have it show up as a preview for your page in various places on Facebook. You can only have one video marked as a trailer at a time.");return (s.createElement(ha,{key:'previewSection'},s.createElement(ga,{label:la,infoText:ma},s.createElement(o,null,this.props.previewMarkup))));},render:function(){var la=[];if(this.props.canTag)la.push(this.renderTaggerSection());la.push(this.renderDetailsSection());if(this.props.canFeature||this.props.canPreview)la.push(this.renderPreviewSection());la.push(this.renderActionsSection());return (s.createElement('div',null,this.renderError(),this.renderEncodingNotice(),s.createElement(l,{className:"_3slc"},la)));}});f.exports=ka;},null);